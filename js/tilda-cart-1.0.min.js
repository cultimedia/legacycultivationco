var version;function tcart__init(recid,ymapApiKey){var cartBlock=document.querySelector(".t706"),cartBlocksLength=document.querySelectorAll(".t706").length,errorText,dontStore,isOneProduct,cartBlocksLength,sendEvent,cartBlocksLength,cartFullscreenCSS,link,matchMedia,mql,mediaQueryHandler,cartBlocksLength,link,cartBlocksLength,link,cartBlocksLength,params,link,cartBlocksLength,link,cartBlocksLength,link,cartBlocksLength,link,cartHeading,cartBlocksLength,cartHeading,link,cartBlocksLength,cartHeading,link,cartMinimal;ymapApiKey=ymapApiKey||cartBlock&&cartBlock.getAttribute("data-yandexmap-apikey")||"",window.tcart__ymapApiKey=ymapApiKey,"yes"===window.tcart_initted&&1<cartBlocksLength?(errorText="RU"===window.t_cart__browserLang?"Ошибка: На странице присутствуют "+cartBlocksLength+" виджета корзины (блок ST100). Пожалуйста, удалите дубликаты. Блоки могут находиться на странице Header или Footer.":"Error: "+cartBlocksLength+" cart widgets (block ST100) on the page. Remove a duplicate. Blocks can be on the Header or Footer page.",document.querySelector(".t706__previewmode-infobox .t706__previewmode-infobox-error")||Array.prototype.forEach.call(document.querySelectorAll(".t706__previewmode-infobox center"),function(infobox){infobox.insertAdjacentHTML("beforeend",'<div class="t706__previewmode-infobox-error" style="color:red">'+errorText+"</div>")}),void 0===window.tcart_erroralert&&(alert(errorText),window.tcart_erroralert="yes",console.error("Error: Two cart widgets (block ST100) on the page. Remove a duplicate."))):cartBlock&&("y"==cartBlock.getAttribute("data-cart-dontstore")&&(window.tcart_dontstore="y"),"y"==cartBlock.getAttribute("data-cart-oneproduct")&&(window.tcart_oneproduct="y"),(cartBlocksLength=cartBlock.getAttribute("data-cart-maxstoredays"))&&(window.tcart_maxstoredays=cartBlocksLength),"y"==cartBlock.getAttribute("data-cart-sendevent-onadd")&&(window.tcart_sendevent_onadd="y"),window.tcart_fullscreen="yes"===cartBlock.getAttribute("data-cart-fullscreen"),window.tcart_fullscreen&&(cartBlocksLength="https://static.tildacdn.com/css/tilda-cart-fullscreen-1.0.min.css",document.querySelector('link[href^="'+cartBlocksLength+'"]')||((link=document.createElement("link")).setAttribute("rel","stylesheet"),link.setAttribute("type","text/css"),link.setAttribute("href",cartBlocksLength),document.getElementsByTagName("head")[0].appendChild(link),document.querySelector("body").insertAdjacentElement("beforeend",link)),"matchMedia"in window||"msMatchMedia"in window)&&(mql=(window.matchMedia||window.msMatchMedia)("(max-width: 960px)"),window.tcart_isMobile=mql.matches,mediaQueryHandler=function(query){"function"==typeof mql.addEventListener?mql.removeEventListener("change",mediaQueryHandler):mql.removeListener(mediaQueryHandler),query.matches!==window.tcart_isMobile&&(window.tcart_isMobile=query.matches,tcart__init(recid,ymapApiKey),tcart__syncProductsObject__LStoObj(),tcart__updateProductsPrice(),tcart__reDrawProducts(),tcart__reDrawTotal(),tcart__initDelivery(),tcart__restoreFieldsFromLS())},"function"==typeof mql.addEventListener?mql.addEventListener("change",mediaQueryHandler):mql.addListener(mediaQueryHandler)),-1!=window.location.href.indexOf("#!/torder")&&(link=(cartBlocksLength=decodeURI(window.location.hash).split("/")).findIndex(function(hash){return"torder"===hash}),window.orderRememberKey=cartBlocksLength[link+1],link=(cartBlocksLength=document.getElementById("allrecords")).getAttribute("data-tilda-project-id"),cartBlocksLength=cartBlocksLength.getAttribute("data-tilda-formskey"),tcart__getLostCart({projectid:link,orderRememberKey:window.orderRememberKey,"tildaspec-formskey":cartBlocksLength})),window.tcart_initted="yes",(link=cartBlock.querySelector(".t706__carticon-text"))&&(link.innerHTML=tcart_dict("clickToOrder")),tcart__drawBottomTotalAmount(),tcart__loadLocalObj(),tcart__reDrawCartIcon(),tcart__addEvent__links(),tcart__addEvents(),tcart__updateMinimals(),tcart__loadDiscounts(),window.addEventListener("pageshow",function(event){event.persisted&&(tcart__loadLocalObj(),tcart__reDrawCartIcon())},!1),setTimeout(function(){var hash,hash;tcart__addEvent__selectpayment();try{hash=decodeURIComponent(document.location.hash)}catch(error){hash=document.location.hash}hash&&-1!==hash.indexOf("#order:")&&(hash=document.querySelector('a[href="'+hash+'"]'))&&hash.click()}),(cartBlocksLength=document.querySelector("#rec"+recid))&&(cartBlocksLength.setAttribute("data-animationappear","off"),cartBlocksLength.style.opacity="1"),link=cartBlock.querySelector(".t706__cartwin-prodamount-label"),cartBlocksLength=cartBlock.querySelector(".t706__cartwin-totalamount-label"),cartBlock.querySelector(".t-input-group_dl")?(link&&(link.innerHTML=tcart_dict("subtotal")+": "),cartBlocksLength&&(cartBlocksLength.innerHTML=tcart_dict("grandTotal")+": ")):(link&&(link.innerHTML=tcart_dict("total")+": "),cartBlocksLength&&(cartBlocksLength.innerHTML=tcart_dict("total")+": ")),window.tcart_fullscreen&&((link=document.querySelector(".t706__sidebar-prodamount-label"))&&(link.innerHTML=tcart_dict("total")+": "),(cartBlocksLength=cartBlock.querySelector(".t706__cartpage-prodamount .t706__cartpage-info-label"))&&(cartBlocksLength.innerHTML=tcart_dict("subtotal")+": "),link=cartBlock.querySelector(".t706__cartpage-order-total-label"))&&(link.innerHTML=tcart_dict("grandTotal")+":&nbsp;"),window.tcart_fullscreen?(cartHeading=cartBlock.querySelector(".t706__cartpage-heading"),cartBlocksLength=cartBlock.querySelector(".t706__sidebar-heading"),""===cartHeading.innerHTML&&(cartHeading.innerHTML=tcart_dict("yourOrder")),""===cartBlocksLength.innerHTML&&(cartBlocksLength.innerHTML=tcart_dict("yourOrder"))):""==(cartHeading=cartBlock.querySelector(".t706__cartwin-heading")).innerHTML&&(cartHeading.innerHTML=tcart_dict("yourOrder")+":"),"Submit"==(link=cartBlock.querySelector(".t-form__submit .t-submit")).innerHTML&&(link.innerHTML=tcart_dict("submitOrder")),window.tcart_fullscreen&&"Submit"==(cartBlocksLength=cartBlock.querySelector(".t706__sidebar-continue")).innerHTML&&(cartBlocksLength.innerHTML=tcart_dict("submitOrder")),(cartHeading=cartBlock.querySelector(".t-input-group_pm"))&&(cartHeading.querySelector(".t-input-title").innerHTML=tcart_dict("paymentMethod")),link=cartBlock.querySelector(".t-form__submit"),cartMinimal=cartBlock.querySelector(".t706__minimal"),link)&&cartMinimal&&(link.addEventListener("mouseenter",function(){cartMinimal.classList.add("active")}),link.addEventListener("mouseleave",function(){cartMinimal.classList.remove("active")}))}function tcart_dict(msg){var dict=[];return dict.youAdd={EN:"added to shopping cart",RU:"добавлено в корзину",FR:"ajouté au panier d'achat",DE:"zum warenkorb hinzugefügt",ES:"añadido a la cesta",PT:"adicionado ao carrinho de compras",JA:"ショッピングカートに追加",ZH:"添加到购物车",UK:"додано до кошика",PL:"dodany do koszyka",KK:"себетке қосылды",IT:"aggiunto al carrello",LV:"pievienots iepirkumu grozam"},dict.total={EN:"Total",RU:"Сумма",FR:"Total",DE:"Gesamtsumme",ES:"Total",PT:"Total",JA:"合計",ZH:"总额。",UK:"Сума",PL:"Suma",KK:"Жалпы",IT:"Totale",LV:"Kopā"},dict.subtotal={EN:"Subtotal",RU:"Сумма",FR:"Sous-total",DE:"Zwischensumme",ES:"Subtotal",PT:"Subtotal",JA:"小計",ZH:"小计。",UK:"Сума",PL:"Suma",KK:"Қорытынды",IT:"Totale parziale",LV:"Kopējā summa"},dict.grandTotal={EN:"Total",RU:"Итоговая сумма",FR:"Total",DE:"Gesamtsumme",ES:"Total",PT:"Total",JA:"合計",ZH:"总额。",UK:"Загальна сума",PL:"Suma łącznie",KK:"Жалпы",IT:"Totale",LV:"Kopējā summa"},dict.yourOrder={EN:"Your order",RU:"Ваш заказ",FR:"Votre commande",DE:"Ihre Bestellung",ES:"Su pedido",PT:"Seu pedido",JA:"注文済",ZH:"你的订货。",UK:"Ваше замовлення",PL:"Twoje zamówienie",KK:"Сіздің тапсырысыңыз",IT:"Il tuo ordine",LV:"Jūsu pasūtījums"},dict.submitOrder={EN:"Submit order",RU:"Оформить заказ",FR:"Commander",DE:"Bestellung abschicken",ES:"Enviar pedido",PT:"Enviar pedido",JA:"注文を確定",ZH:"办妥订货。",UK:"Оформити замовлення",PL:"Zamów",KK:"Өтінімді",IT:"Inviare ordine",LV:"Iesniegt pasūtījumu"},dict.paymentMethod={EN:"Payment method",RU:"Способ оплаты",FR:"Mode de paiement",DE:"Zahlungsmethode",ES:"Método de pago",PT:"Método de pagamento",JA:"支払方法",ZH:"付款方式。",UK:"Спосіб оплати",PL:"Sposób płatności",KK:"Төлем тәсілі",IT:"Metodo di pagamento",LV:"Apmaksas veids"},dict.clickToOrder={EN:"Click to order",RU:"Оформить заказать",FR:"Commander",DE:"Bestellung abschicken",ES:"Enviar pedido",PT:"Enviar pedido",JA:"注文を確定",ZH:"提交订单。",UK:"Оформити замовлення",PL:"Zamów",KK:"Бұйрығына басыңыз",IT:"Clicca per ordine",LV:"Uzklikšķiniet pasūtījuma"},dict.subtotalDiscount={EN:"Subtotal with discount",RU:"Сумма со скидкой",FR:"Sous-total avec remise",DE:"Zwischensumme mit Rabatt",ES:"Subtotal con descuento",PT:"Subtotal com desconto",JA:"割引後小計",ZH:"减价同小计。",UK:"Сума зі знижкою",PL:"Suma z rabatem",KK:"Жеңілдікпен Қорытынды",IT:"Totale parziale con lo sconto",LV:"Atlaides summa"},dict.promoCode={EN:"Promo code",RU:"Промокод",FR:"Code promo",DE:"Aktionscode",ES:"Código promocional",PT:"Código promocional",JA:"プロモコード",ZH:"促销代码。",UK:"Промокод",PL:"Kod rabatowy",KK:"Промокод",IT:"Codice promozionale",LV:"Promo kods"},dict.discount={EN:"Discount",RU:"Скидка",FR:"Remise",DE:"Rabatt",ES:"Descuento",PT:"Desconto",JA:"割引",ZH:"减价。",UK:"Знижка",PL:"Rabat",KK:"Жеңілдік",IT:"Sconto",LV:"Atlaide"},dict.minimumOrder={EN:"Minimum order",RU:"Минимальный заказ",FR:"Commande minimale",DE:"Minimale Bestellung",ES:"Pedido mínimo",PT:"Pedido mínimo",JA:"最小注文価格",ZH:"最小的订货。",UK:"Мінімальне замовлення",PL:"Minimalne zamówienie",KK:"Ең аз тапсырыс",IT:"Ordine minimo",LV:"Minimālais pasūtījuma"},dict.minimumQuantity={EN:"Minimum order quantity",RU:"Минимальное количество в заказе",FR:"Quantité de commande minimale",DE:"Mindestbestellmenge",ES:"Cantidad mínima del pedido",PT:"Quantidade mínima por pedido",JA:"最小注文数",ZH:"最小的总数。",UK:"Мінімальна кількість у замовленні",PL:"Minimalna ilość w zamówieniu",KK:"Ең аз тапсырыс саны",IT:"Quantità di ordine minimo",LV:"Minimālais pasūtījuma daudzums"},dict.limitReached={EN:"Sorry, limit has been reached. This is the maximum quantity of goods in stock",RU:"Извините, достигнут лимит. Это максимально возможное количество товаров в наличии",FR:"Désolé, la limite a été atteinte. Il s'agit de la quantité maximale de marchandises en stock",DE:"Entschuldigung, das Limit wurde erreicht. Dies ist die maximale Menge an Waren auf Lager",ES:"Lo sentimos, se ha alcanzado el límite. Esta es la cantidad máxima de productos en stock",PT:"Desculpe, o limite foi atingido. Esta é a quantidade máxima de bens em stock",JA:"申し訳ありませんが、上限に達しました。これは、商品の在庫の最大数量です",ZH:"对不起，已经达到极限。这是库存货物的最大数量",UK:"Вибачте, досягнутий ліміт. Це максимально можлива кількість товарів в наявності",PL:"Przepraszamy, osiągnięto limit. Jest to maksymalna ilość dostępnego towaru",KK:"Кешіріңіз, шегі қол жеткізілді. Бұл қоймада тауарлардың барынша саны",IT:"Siamo spiacenti, il limite è stato raggiunto. Questa è la quantità massima di merce in magazzino",LV:"Diemžēl ierobežojums ir sasniegts. Tas ir maksimālais iespējamais preču skaits noliktavā"},dict.free={EN:"free",RU:"бесплатно",FR:"gratuit",DE:"kostenlos",ES:"gratis",PT:"livre",UK:"безкоштовно",JA:"無料で",ZH:"免费",PL:"za darmo",KK:"тегін",IT:"gratuito",LV:"bezmaksas"},dict.youRemoved={EN:"You removed",RU:"Вы удалили",FR:"Vous avez retiré",DE:"Sie haben entfernt",ES:"Has eliminado",PT:"Retirou",JA:"除去しました",ZH:"你删除了",UK:"Щойно видалено",PL:"Usunąłeś",KK:"Сіз жойылған",IT:"Hai rimosso",LV:"Jūs izdzēsāt"},dict.undo={EN:"Undo",RU:"Вернуть",FR:"Annuler",DE:"Rückgängig",ES:"Deshacer",PT:"Desfazer",JA:"元に戻す",ZH:"撤销",UK:"Повернути",PL:"Powrót",KK:"Болдырмау",IT:"Disfare",LV:"Atcelt"},dict.empty={EN:"Shopping cart is empty. Add at least one product",RU:"Корзина пуста. Добавьте в корзину хотя бы один товар",FR:"Le panier est vide. Ajouter au moins un produit",DE:"Ihr Einkaufswagen ist leer. Mindestens ein Produkt hinzufügen",ES:"Tu carrito está vacío. Añadir al menos un producto",PT:"O carrinho de compras está vazio. Acrescentar pelo menos um produto",JA:"ショッピングカートは空です。製品を1つ以上追加する",ZH:"你的购物车是空的。至少添加一个产品",UK:"Ваш кошик порожній. Додайте принаймні один товар",PL:"Koszyk jest pusty. Dodaj co najmniej jeden produkt",KK:"Cебетіңіз бос. Себетке кем дегенде бір затты қосыңыз",IT:"Il carrello è vuoto. Aggiungere almeno un prodotto",LV:"Grozs ir tukšs. Pievienojiet vismaz vienu produktu"},dict.restoreHeader={EN:"Order restoration",RU:"Восстановление заказа",FR:"Restauration de la commande",DE:"Auftrag wiederherstellen",ES:"Recuperación de pedidos",PT:"Recuperação de Pedidos",JA:"注文の復元",ZH:"恢复秩序",UK:"Відновлення замовлення",PL:"Przywrócenie zamówienia",KK:"Тапсырысты қалпына келтіру",IT:"Recupero dell'ordine",LV:"Pasūtījuma atjaunošana"},dict.restoreText={EN:"There are products in the shopping cart. Empty the current cart before restoring?",RU:"В корзине уже есть товары. Очистить текущую корзину перед восстановлением?",FR:"Il y a des marchandises dans le panier. Vider la corbeille actuelle avant la restauration?",DE:"Es gibt Waren im Korb. Möchten Sie den aktuellen Papierkorb vor dem Wiederherstellen leeren?",ES:"Hay productos en la cesta. Vaciar la papelera de reciclaje actual antes de restaurar?",PT:"Há produtos no carrinho. Deseja limpar o lixo actual antes de restaurar?",JA:"かごに商品が入っています。 復元する前に、現在のゴミ箱をクリアしますか？",ZH:"篮子里有产品。 在恢复之前清除当前的垃圾?",UK:"У кошику є товари. Очистити поточний кошик перед відновленням?",PL:"W Koszyku znajdują się produkty. Opróżnij bieżący kosz przed przywróceniem?",KK:"Себетте тауарлар бар. Қалпына келтірмес бұрын ағымдағы себетті тазалаңыз?",IT:"Ci sono prodotti nel carrello. Svuota il cestino corrente prima del ripristino?",LV:"Grozā ir preces. Pirms atjaunošanas notīriet pašreizējo atkritni?"},dict.restoreClearCart={EN:"Empty the shopping cart",RU:"Очистить корзину",FR:"Effacer le panier",DE:"Leeren Sie den Einkaufswagen",ES:"Vaciar la cesta de la compra",PT:"Esvaziar o carrinho de compras",JA:"ショッピングカートを空にする",ZH:"清空购物车",UK:"Спорожніть кошик",PL:"Opróżnij koszyk",KK:"Сауда себетін босатыңыз",IT:"Svuota il carrello",LV:"Iztukšojiet iepirkumu grozu"},dict.restoreSaveItems={EN:"Leave items",RU:"Оставить товары",FR:"Laisser des éléments",DE:"Gegenstände hinterlassen",ES:"Dejar artículos",PT:"Deixar itens",JA:"アイテムを残す",ZH:"离开项目",UK:"Залишати предмети",PL:"Zostaw przedmioty",KK:"Заттарды қалдырыңыз",IT:"Lascia articoli",LV:"Atstājiet priekšmetus"},dict.restoreWrongOrder={EN:"Order not found",RU:"Заказ не найден",FR:"Commande non trouvée",DE:"Bestellung nicht gefunden",ES:"Pedido no encontrado",PT:"Ordem não encontrada",JA:"注文が見つかりません",ZH:"未找到订单",UK:"Замовлення не знайдено",PL:"Nie znaleziono zamówienia",KK:"Тапсырыс табылмады",IT:"Ordine non trovato",LV:"Pasūtījums nav atrasts"},dict.PCE={EN:"pc",RU:"шт",UK:"шт",KK:"шт"},dict.NMP={EN:"pack",RU:"уп",UK:"уп",KK:"уп"},dict.MGM={EN:"mg",RU:"мг",UK:"мг",KK:"мг"},dict.g=dict.GRM={EN:"g",RU:"г",UK:"г",PL:"r",KK:"г"},dict.KGM={EN:"kg",RU:"кг",UK:"кг",KK:"кг"},dict.TNE={EN:"t",RU:"т",UK:"т",KK:"т"},dict.MLT={EN:"ml",RU:"мл",UK:"мл",KK:"мл"},dict.LTR={EN:"l",RU:"л",UK:"л",KK:"л"},dict.mm=dict.MMT={EN:"mm",RU:"мм",UK:"мм",KK:"мм"},dict.CMT={EN:"cm",RU:"см",UK:"см",KK:"см"},dict.DMT={EN:"dm",RU:"дм",UK:"дм",KK:"дм"},dict.MTR={EN:"m",RU:"м",UK:"м",KK:"м"},dict.MTK={EN:"m²",RU:"м²",UK:"м²",KK:"м²"},dict.MTQ={EN:"m³",RU:"м³",UK:"м³",KK:"м³"},dict.LMT={EN:"lm",RU:"пог. м",UK:"пог. м",KK:"пог. м"},dict.HAR={EN:"ha",RU:"га",UK:"га",KK:"га"},dict.ACR={EN:"acre"},dict.YRD={EN:"yd"},dict.LBR={EN:"lb"},dict.ONZ={EN:"oz"},dict.INH={EN:"in"},dict.FOT={EN:"ft"},dict[msg]?dict[msg][window.t_cart__browserLang]||dict[msg].EN:"Text not found #"+msg}function tcart__nullObj(){var tcart={products:[],prodamount:0,amount:0,system:""};return tcart}function tcart__updateMinimals(){var cartBlock=document.querySelector(".t706"),minimumOrderAmount=cartBlock.getAttribute("data-cart-minorder"),minimumQuantity=cartBlock.getAttribute("data-cart-mincntorder"),prevBlocks,html,errorHtml,html,errorHtml;function tcart__renderMinimals(html,errorHtml){(window.tcart_fullscreen&&window.tcart_isMobile?(cartBlock.querySelector(".t706__sidebar-prodamount-wrap").insertAdjacentHTML("afterbegin",html),cartBlock.querySelector(".t706__cartpage-prodamount")):((window.tcart_fullscreen&&!window.tcart_isMobile?(cartBlock.querySelector(".t706__sidebar-prodamount-wrap").insertAdjacentHTML("afterbegin",html),cartBlock.querySelector(".t706__cartpage-prodamount")):cartBlock.querySelector(".t706__cartwin-prodamount-wrap")).insertAdjacentHTML("afterbegin",html),cartBlock.querySelector(".t706__cartwin-totalamount-wrap"))).insertAdjacentHTML("afterbegin",html),cartBlock.querySelector(".js-errorbox-all .t-form__errorbox-text").insertAdjacentHTML("beforeend",errorHtml)}(0<window.tcart_minorder||0<window.tcart_mincntorder)&&(prevBlocks=cartBlock.querySelectorAll(".t706__minimal"),Array.prototype.slice.call(prevBlocks).forEach(function(block){block.parentNode.removeChild(block)})),window.tcart_minorder&&tcart__renderMinimals(html='<div class="t706__cartwin-prodamount-minorder t706__minimal"><span>'+tcart_dict("minimumOrder")+": "+tcart__showPrice(minimumOrderAmount)+"</span></div>",errorHtml='<div data-rule-filled="true" class="t-form__errorbox-item js-rule-error js-rule-error-minorder" style="display: none;">'+tcart_dict("minimumOrder")+": "+tcart__showPrice(minimumOrderAmount)+"</div>"),window.tcart_mincntorder&&tcart__renderMinimals(html='<div class="t706__cartwin-prodamount-mincntorder t706__minimal"><span>'+tcart_dict("minimumQuantity")+": "+minimumQuantity+"</span></div>",errorHtml='<p data-rule-filled="true"  class="t-form__errorbox-item js-rule-error js-rule-error-minquantity" style="display: none;">'+tcart_dict("minimumQuantity")+": "+minimumQuantity+"</p>")}function tcart__loadLocalObj(){var dataJsonStr=null,timestamp,delta,actualProductsObj,dataJsonStr,actualCountProducts,dataJsonStr;try{dataJsonStr=localStorage.getItem("tcart")}catch(e){console.error("Your web browser does not support storing a Cart data locally.")}window.tcart=null===dataJsonStr?tcart__nullObj():JSON.parse(dataJsonStr),void 0!==window.tcart.products&&(actualProductsObj=[],dataJsonStr=window.tcart.products.length,window.tcart.products.forEach(function(product){tcart__isEmptyObject(product)||"yes"===product.deleted||actualProductsObj.push(product)}),window.tcart.products=actualProductsObj,window.tcart.products.length!==dataJsonStr)&&tcart__saveLocalObj(),window.tcart_maxstoredays?0<(dataJsonStr=parseInt(window.tcart_maxstoredays))?0<window.tcart.updated&&86400*dataJsonStr<(delta=+(timestamp=Math.floor(Date.now()/1e3))-+window.tcart.updated)&&("object"==typeof localStorage&&(window.tcart.products=[],localStorage.setItem("tcart",JSON.stringify(window.tcart))),window.tcart=tcart__nullObj()):0===dataJsonStr&&(window.tcart=tcart__nullObj()):0<window.tcart.updated&&2592e3<(delta=+(timestamp=Math.floor(Date.now()/1e3))-+window.tcart.updated)&&(window.tcart=tcart__nullObj()),"y"===window.tcart_dontstore&&(window.tcart=tcart__nullObj()),delete window.tcart.currency,delete window.tcart.currency_txt,delete window.tcart.currency_txt_l,delete window.tcart.currency_txt_r,delete window.tcart.currency_side,delete window.tcart.currency_sep,delete window.tcart.currency_dec,window.tcart.currency="$",window.tcart.currency_side="l",window.tcart.currency_sep=".",window.tcart.currency_dec="",window.tcart.delivery&&delete window.tcart.delivery,window.tcart.promocode&&delete window.tcart.promocode;var dataJsonStr=document.querySelector(".t706"),paymentCurrency=dataJsonStr.getAttribute("data-project-currency");paymentCurrency&&(window.tcart.currency=paymentCurrency),window.tcart.currency_txt=window.tcart.currency;var paymentCurrency,paymentCurrency=("r"==(paymentCurrency=dataJsonStr.getAttribute("data-project-currency-side"))&&(window.tcart.currency_side="r"),"l"==window.tcart.currency_side?(window.tcart.currency_txt_l=window.tcart.currency_txt+"",window.tcart.currency_txt_r=""):(window.tcart.currency_txt_r=" "+window.tcart.currency_txt,window.tcart.currency_txt_l=""),"."==(paymentCurrency=dataJsonStr.getAttribute("data-project-currency-sep"))||","==paymentCurrency?window.tcart.currency_sep=paymentCurrency:"$"==window.tcart.currency||"€"==window.tcart.currency||"USD"==window.tcart.currency||"EUR"==window.tcart.currency?window.tcart.currency_sep=".":window.tcart.currency_sep=",",paymentCurrency=dataJsonStr.getAttribute("data-project-currency-dec"),window.tcart.currency_dec="00"==paymentCurrency?paymentCurrency:"",delete window.tcart.system,dataJsonStr.getAttribute("data-payment-system")),paymentCurrency=(window.tcart.system=paymentCurrency||"none",dataJsonStr.getAttribute("data-cart-minorder")),paymentCurrency=(0<paymentCurrency&&void 0===window.tcart_minorder&&(window.tcart_minorder=paymentCurrency=+paymentCurrency),dataJsonStr.getAttribute("data-cart-mincntorder"));0<paymentCurrency&&void 0===window.tcart_mincntorder&&(window.tcart_mincntorder=paymentCurrency=+paymentCurrency),tcart__addDelivery(),tcart__updateTotalProductsinCartObj()}function tcart__saveLocalObj(){if(window.tcart_newDeliveryActive&&window.tcart.amount&&window.tcart.total&&tcart__rerenderDeliveryServices(),"y"!==window.tcart_dontstore&&(void 0===window.tcart_maxstoredays||0!=window.tcart_maxstoredays)&&"object"==typeof window.tcart){window.tcart.updated=Math.floor(Date.now()/1e3);var dataJsonStr=JSON.stringify(window.tcart);if("object"==typeof localStorage)try{localStorage.setItem("tcart",dataJsonStr)}catch(e){console.error("Your web browser does not support storing a Cart data locally.")}}}function tcart__syncProductsObject__LStoObj(){if("y"!==window.tcart_dontstore&&(void 0===window.tcart_maxstoredays||0!=window.tcart_maxstoredays)&&"object"==typeof localStorage)try{var lsJsonStr=localStorage.getItem("tcart"),lsJsonObj=JSON.parse(lsJsonStr),actualProductsObj,oldCountProducts,actualCountProducts;"object"==typeof lsJsonObj.products&&(actualProductsObj=[],oldCountProducts=lsJsonObj.products.length,lsJsonObj.products.forEach(function(product){!tcart__isEmptyObject(product)&&"yes"!==product.deleted&&0<product.quantity&&actualProductsObj.push(product)}),window.tcart.products=actualProductsObj,window.tcart.products.length!==oldCountProducts&&tcart__saveLocalObj(),tcart__updateTotalProductsinCartObj())}catch(e){}}function tcart__addEvents(){var body=document.querySelector("body");function addClickEvent(query,handler){var query=document.querySelector(query);query&&query.addEventListener("click",handler)}addClickEvent("body",function(e){e.target&&e.target.closest('a[href="#opencart"]')&&((window.tcart_fullscreen?tcart__openCartSidebar:tcart__openCart)(),e.preventDefault())}),addClickEvent(".t706__carticon",function(){(window.tcart_fullscreen?tcart__openCartSidebar:tcart__openCart)()}),addClickEvent(".t706__cartwin-close",tcart__closeCart),addClickEvent(".t706__cartwin-closebtn",tcart__closeCart),window.tcart_fullscreen&&(addClickEvent(".t706__sidebar-close",tcart__closeCartSidebar),addClickEvent(".t706__sidebar-continue",tcart__openCartFullscreen),addClickEvent(".t706__cartpage-back",tcart__closeCartFullscreen),addClickEvent(".t706__cartpage-close",tcart__closeCartFullscreen),window.addEventListener("popstate",function(){(-1!==location.href.indexOf("#tcart")?tcart__openCartFullscreen:tcart__closeCartFullscreen)()}));var formProccess=document.querySelector(".t706 .js-form-proccess"),formProccess=(formProccess&&formProccess.setAttribute("data-formcart","y"),document.querySelector(".t706__sidebar")),formProccess,observer;formProccess?formProccess.addEventListener("mousedown",function(e){var windowWidth,maxScrollBarWidth,windowWithoutScrollBar;e.target==this&&(windowWidth=window.innerWidth,e.clientX>windowWidth-(maxScrollBarWidth=17)||tcart__closeCartSidebar())}):document.querySelector(".t706__cartwin").addEventListener("mousedown",function(e){var windowWidth,maxScrollBarWidth,windowWithoutScrollBar;e.target==this&&(windowWidth=window.innerWidth,e.clientX>windowWidth-(maxScrollBarWidth=17)||tcart__closeCart())}),window.tcart_fullscreen&&!window.tcart_isMobile&&"IntersectionObserver"in window&&(formProccess=document.querySelector(".t706__cartpage-totals"),new IntersectionObserver(function(entries){var entries=entries[0];entries.target.classList.toggle("is-pinned",0!==entries.intersectionRatio&&entries.intersectionRatio<1)},{threshold:[1]}).observe(formProccess)),"y"!==window.tcart_dontstore&&window.addEventListener("storage",function(e){if(e.isTrusted&&!window.clearTCart&&!document.hasFocus()&&"tcart"===e.key){try{var lsJsonStr=localStorage.getItem("tcart"),lsJsonObj=JSON.parse(lsJsonStr);"object"==typeof lsJsonObj.products&&(window.tcart.products=lsJsonObj.products,tcart__updateTotalProductsinCartObj())}catch(e){}tcart__reDrawCartIcon(),body.classList.contains("t706__body_cartwinshowed")&&(window.tcart_newDeliveryActive&&window.tcart.amount&&window.tcart.total&&tcart__rerenderDeliveryServices(),tcart__reDrawProducts(),tcart__reDrawTotal())}})}function tcart__addEvent__links(recid){var recs=[],recs=recid?[document.querySelector("#rec"+recid)]:document.querySelectorAll(".r"),body=document.querySelector("body"),clickEvent=function(event){var cartBtn=event.target.closest('[href^="#order"]')?event.target.closest('[href^="#order"]'):"";if(cartBtn&&(event.preventDefault(),!event.target.classList.contains("t1002__addBtn"))&&!event.target.closest(".t1002__addBtn")){var event=cartBtn.closest("form");if(event){var arErrors=window.tildaForm.validate(event);if(window.tildaForm.showErrors(event,arErrors))return!1}if("yes"!=cartBtn.getAttribute("data-dbclk-prevent")){cartBtn.setAttribute("data-dbclk-prevent","yes"),setTimeout(function(){cartBtn.removeAttribute("data-dbclk-prevent")},1e3),(body.classList.contains("t-body_popupshowed")||0<document.querySelectorAll(".t-popup.t-popup_show").length)&&(t_triggerEvent(document.body,"popupHidden"),body.classList.remove("t-body_popupshowed"),Array.prototype.forEach.call(document.querySelectorAll(".t-popup"),function(popup){popup.classList.remove("t-popup_show")}),setTimeout(function(){Array.prototype.forEach.call(document.querySelectorAll(".t-popup:not(.t-popup_show)"),function(popup){popup.style.display="none"})},300),tcart__clearProdUrl());var event=cartBtn.getAttribute("href"),arErrors="0",name="",img="",sku="",lid="",uid="",recid="",inv="",single="",unit="",portion="",pack_label="",pack_m="",pack_x="",pack_y="",pack_z="",part_uids="",gen_uid="",event,imgLinkPos,imgLink,event,imgLinkPos,imgLinkPos,event=("#order:"===event.substring(0,7)&&(event=event.substring(7))&&(0<event.indexOf(":::")&&(imgLinkPos=event.indexOf(":::"),0<event.indexOf("="))&&event.indexOf("=")<event.indexOf(":::")&&(imgLink=event.substring(imgLinkPos+3),event=event.substring(0,imgLinkPos)),0<event.indexOf("=")?((imgLinkPos=event.split("="))[0]&&(name=imgLinkPos[0].trim()),arErrors=tcart__cleanPrice(arErrors=imgLinkPos[1]?imgLinkPos[1]:arErrors)):name=event,void 0!==imgLink&&""!==imgLink&&0<imgLink.indexOf("=")&&(imgLinkPos=imgLink.split("="))[0]&&imgLinkPos[1]&&"image"==imgLinkPos[0]&&0<imgLinkPos[1].indexOf(".tildacdn.")&&(img=imgLinkPos[1]),""==recid)&&(recid=cartBtn.closest(".r").getAttribute("id")?cartBtn.closest(".r").getAttribute("id").replace("rec",""):""),cartBtn.closest(".js-product")),imgLink,name,imgLinkPos,arErrors,imgLink,imgLinkPos,img,imgLinkPos,imgLink,recid,options,imgLinkPos,imgLink,imgLinkPos=(event&&(""==name&&(name=(imgLink=event.querySelector(".js-product-name"))?imgLink.textContent.trim():""),""!=arErrors&&0!=arErrors||(arErrors=tcart__cleanPrice(arErrors=(imgLinkPos=event.querySelector(".js-product-price"))?imgLinkPos.classList.contains("js-store-prod-price-range-val")?imgLinkPos.getAttribute("data-product-price-def"):imgLinkPos.textContent:arErrors)),""==img&&(event.getAttribute("data-product-img")?img=event.getAttribute("data-product-img"):(imgLink=event.querySelector(".js-product-img"))&&(0<(imgLinkPos=imgLink.getAttribute("data-original")||"").length?img=imgLinkPos:"IMG"==imgLink.tagName?img=imgLink.getAttribute("src"):"DIV"==imgLink.tagName&&(img="",imgLinkPos=getComputedStyle(imgLink)["background-image"])&&(img=imgLinkPos.replace("url(","").replace(")","").replace(/"/gi,"")))),""==lid&&(lid=event.getAttribute("data-product-lid")||""),""==uid&&(uid=event.getAttribute("data-product-uid")||""),""==recid&&(recid=(imgLink=event.closest(".r").getAttribute("id"))?imgLink.replace("rec",""):""),""==inv&&(inv=event.getAttribute("data-product-inv")||""),unit=event.getAttribute("data-product-unit")||"",portion=event.getAttribute("data-product-portion")||"",single=event.getAttribute("data-product-single")||"",options=[],imgLinkPos=event.querySelectorAll(".js-product-edition-option"),Array.prototype.forEach.call(imgLinkPos,function(optionsElement){var optionName=optionsElement.querySelector(".js-product-edition-option-name").textContent,optionsElement=optionsElement.querySelector("option:checked"),optionVariant,optionsElement,optionObj,optionsElement;optionsElement&&(optionVariant=optionsElement.value,optionsElement=tcart__cleanPrice(optionsElement=optionsElement.getAttribute("data-product-edition-variant-price")),optionName)&&optionVariant&&(optionObj={},""!=optionName&&(optionName=tcart__escapeHtml(optionName)),""!=optionVariant&&(optionVariant=(optionVariant=tcart__escapeHtml(optionVariant)).replace(/(?:\r\n|\r|\n)/g,"")),1<optionName.length&&":"==optionName.charAt(optionName.length-1)&&(optionName=optionName.substring(0,optionName.length-1)),optionObj.option=optionName,optionObj.variant=optionVariant,optionObj.price=optionsElement,options.push(optionObj))}),imgLink=event.querySelectorAll(".js-product-option"),Array.prototype.forEach.call(imgLink,function(optionsElement){var optionName=optionsElement.querySelector(".js-product-option-name").textContent,optionsElement=optionsElement.querySelector("option:checked"),optionVariant,optionsElement,optionObj,optionsElement;optionsElement&&(optionVariant=optionsElement.value,optionsElement=tcart__cleanPrice(optionsElement=optionsElement.getAttribute("data-product-variant-price")),void 0!==optionName)&&void 0!==optionVariant&&(optionObj={},""!=optionName&&(optionName=tcart__escapeHtml(optionName)),""!=optionVariant&&(optionVariant=(optionVariant=tcart__escapeHtml(optionVariant)).replace(/(?:\r\n|\r|\n)/g,"")),1<optionName.length&&":"==optionName.charAt(optionName.length-1)&&(optionName=optionName.substring(0,optionName.length-1)),optionObj.option=optionName,optionObj.variant=optionVariant,optionObj.price=optionsElement,options.push(optionObj))}),""==(sku=""==sku?event.querySelector(".js-product-sku")?event.querySelector(".js-product-sku").textContent.trim():"":sku)&&(sku=event.querySelector(".js-store-prod-sku")?event.querySelector(".js-store-prod-sku").textContent.trim():""),""==pack_label&&(pack_label=event.getAttribute("data-product-pack-label")||""),""==pack_m&&(pack_m=event.getAttribute("data-product-pack-m")||""),""==pack_x&&(pack_x=event.getAttribute("data-product-pack-x")||""),""==pack_y&&(pack_y=event.getAttribute("data-product-pack-y")||""),""==pack_z&&(pack_z=event.getAttribute("data-product-pack-z")||""),""==part_uids&&(part_uids=event.getAttribute("data-product-part-uid")||""),""==gen_uid)&&(gen_uid=event.getAttribute("data-product-gen-uid")||""),event?event.getAttribute("data-product-url"):""),imgLink=event?event.querySelector('a[href="#order"]:not(.t-btn)'):"",event=event?event.querySelector('.js-product-link:not([href="#prodpopup"]):not([href="#order"])'):"",settedLinkInToProductHref;if(event&&(settedLinkInToProductHref=event.getAttribute("href")),imgLinkPos=!imgLinkPos&&settedLinkInToProductHref?settedLinkInToProductHref:!imgLinkPos&&recid&&lid&&!imgLink?window.location.origin+window.location.pathname+"#!/tproduct/"+recid+"-"+lid:imgLinkPos||window.location.origin+window.location.pathname+"#rec"+recid,""!=name||""!=arErrors&&0!=arErrors){""==arErrors&&(arErrors=0),""!=(name=""==name?"NoName":name)&&(name=tcart__escapeHtml(name)),""!=img&&(img=tcart__escapeHtmlImg(img));var event={};if(event.name=name,event.price=arErrors,event.img=img,event.recid=recid,event.lid=lid,event.pack_label=pack_label,event.pack_m=pack_m,event.pack_x=pack_x,event.pack_y=pack_y,event.pack_z=pack_z,event.part_uids=part_uids.split(","),event.gen_uid=gen_uid,event.url=imgLinkPos,options&&0<options.length&&(event.options=options),sku&&(sku=tcart__escapeHtml(sku),event.sku=sku),uid&&(event.uid=uid),lid&&(event.lid=lid),0<inv&&(event.inv=parseInt(inv,10)),""!==inv&&0===parseInt(inv,10))window.tStoreDict&&alert(window.tStoreDict.soldOut);else{unit&&(event.unit=unit),portion&&(event.portion=portion),single&&(event.single=single);var settedLinkInToProductHref=cartBtn.parentElement.querySelector(".t-store__prod__quantity"),imgLink,img,pack_label,pack_m,pack_x;if(settedLinkInToProductHref&&(imgLink=settedLinkInToProductHref.querySelector(".t-store__prod__quantity-input"),img=parseInt(imgLink.value,10),!isNaN(img))&&0<img&&(event.quantity=img,imgLink.value=1,t_triggerEvent(imgLink,"change")),tcart__addProduct(event),"y"==window.tcart_sendevent_onadd)try{Tilda.sendEcommerceEvent("add",[event])}catch(e){window.Tilda&&"function"==typeof Tilda.sendEventToStatistics&&(pack_label="/tilda/cart/add/",0<recid&&(pack_label+=recid),uid&&0<uid?pack_label+="-u"+uid:lid&&0<lid&&(pack_label+="-"+lid),pack_m=name,pack_x=arErrors,Tilda.sendEventToStatistics(pack_label,pack_m,window.location.href,pack_x))}}}}}},$;Array.prototype.forEach.call(recs,function(rec){rec.addEventListener("click",function(event){clickEvent(event)})}),window.jQuery&&($=jQuery)(".r").on("click",'[href^="#order"]',function(event){3===event.isTrigger&&clickEvent(event)})}function tcart__addProduct(productObj){var timestamp=Math.floor(Date.now()/1e3),cartIcon=document.querySelector(".t706__carticon"),products=(tcart__syncProductsObject__LStoObj(),window.tcart.products||[]);if(window.tcart__quantityProductsByUid={},window.tcart__quantityProductsByUid[productObj.uid]||(window.tcart__quantityProductsByUid[productObj.uid]=0),products.forEach(function(productInCart){productInCart.uid&&productObj.uid&&productInCart.uid===productObj.uid&&(window.tcart__quantityProductsByUid[productObj.uid]+=parseInt(productInCart.quantity,10))}),productObj.quantity&&(window.tcart__quantityProductsByUid[productObj.uid]+=parseInt(productObj.quantity,10)),parseInt(window.tcart__quantityProductsByUid[productObj.uid])>parseInt(productObj.inv,10))return alert(tcart_dict("limitReached")),!1;var isInCart=!1,productDataNeedsToBeUpdated=!1,gramms,index,products=(0<products.length&&Array.prototype.forEach.call(products,function(productInCart,index){var isEqualOptions="y",isEqualSKU="",inv,quantity,quantityInCart,newQuantity,inv,quantity,quantityInCart,newQuantity;if("y"==window.tcart_oneproduct){if(productInCart.name==productObj.name&&productInCart.price==productObj.price)return null==productInCart.options&&null==productObj.options&&null==productInCart.sku&&null==productObj.sku||null==productInCart.options&&null==productObj.options&&null!=productInCart.sku&&null!=productObj.sku&&productInCart.sku==productObj.sku?!(isInCart=!0):"object"==typeof productInCart.options&&"object"==typeof productObj.options&&(Array.prototype.forEach.call(productInCart.options,function(option,index){if("object"==typeof option&&"object"==typeof productObj.options[index]){if(option.option!==productObj.options[index].option||option.variant!==productObj.options[index].variant||option.price!==productObj.options[index].price)return isEqualOptions=!1}else if(null==option||null==productObj.options[index])return isEqualOptions=!1}),productInCart.sku===productObj.sku&&(isEqualSKU="y"),"y"===isEqualOptions)&&"y"===isEqualSKU?(parseInt(window.tcart.products[index].quantity,10)===parseInt(productObj.inv,10)&&alert(tcart_dict("limitReached")),!(isInCart=!0)):void 0}else if(productInCart.name==productObj.name&&productInCart.price==productObj.price&&productInCart.portion==productObj.portion&&productInCart.single==productObj.single){if("object"==typeof productInCart.options&&"object"==typeof productObj.options&&Array.prototype.forEach.call(productInCart.options,function(option,index){if("object"==typeof option&&"object"==typeof productObj.options[index]){if(option.option!==productObj.options[index].option||option.variant!==productObj.options[index].variant||option.price!==productObj.options[index].price)return isEqualOptions=!1}else if(void 0===option||void 0===productObj.options[index])return isEqualOptions=!1}),productInCart.sku===productObj.sku)isEqualSKU="y";else if(productInCart.uid&&productObj.uid&&productInCart.uid===productObj.uid){isInCart=productDataNeedsToBeUpdated=!0;var inv=parseInt(productObj.inv,10),quantityInCart;if((quantityInCart=parseInt(window.tcart.products[index].quantity,10))===inv)return void alert(tcart_dict("limitReached"));window.tcart.products[index].quantity++}if("y"===isEqualOptions&&"y"===isEqualSKU)return inv=parseInt(productObj.inv,10),quantity=parseInt(productObj.quantity,10),(quantityInCart=parseInt(window.tcart.products[index].quantity,10))===inv?alert(tcart_dict("limitReached")):(void 0!==productObj.quantity?inv<quantityInCart+quantity?(alert(tcart_dict("limitReached")),isInCart=!0,window.tcart.products[index].quantity=inv):(newQuantity=parseInt(window.tcart.products[index].quantity,10)+quantity,window.tcart.products[index].quantity=newQuantity,tcart__showBubble(productObj.name+" "+tcart_dict("youAdd"))):(window.tcart.products[index].quantity++,tcart__showBubble(productObj.name+" "+tcart_dict("youAdd"))),window.tcart.products[index].amount=window.tcart.products[index].price*window.tcart.products[index].quantity,window.tcart.products[index].amount=tcart__roundPrice(window.tcart.products[index].amount),window.tcart.products[index].ts=timestamp),!(isInCart=!0)}else if(productInCart.uid&&productObj.uid&&productInCart.uid===productObj.uid){if("object"==typeof productInCart.options&&"object"==typeof productObj.options?Array.prototype.forEach.call(productInCart.options,function(option,index){if("object"==typeof option&&"object"==typeof productObj.options[index]){if(option.option!==productObj.options[index].option||option.variant!==productObj.options[index].variant)return isEqualOptions=!1}else if(void 0===option||void 0===productObj.options[index])return isEqualOptions=!1}):isEqualOptions="y","y"===isEqualOptions)return inv=parseInt(productObj.inv,10),quantity=parseInt(productObj.quantity,10),(quantityInCart=parseInt(window.tcart.products[index].quantity,10))===inv?alert(tcart_dict("limitReached")):(void 0!==productObj.quantity?inv<quantityInCart+quantity?(alert(tcart_dict("limitReached")),isInCart=productDataNeedsToBeUpdated=!0,window.tcart.products[index].quantity=inv):(newQuantity=parseInt(window.tcart.products[index].quantity,10)+quantity,window.tcart.products[index].quantity=newQuantity):window.tcart.products[index].quantity++,window.tcart.products[index].price=0,window.tcart.products[index].amount=0,window.tcart.products[index].ts=timestamp),!(isInCart=productDataNeedsToBeUpdated=!0)}}),isInCart||(void 0===productObj.quantity?(productObj.quantity=1,productObj.amount=productObj.price):productObj.amount=tcart__roundPrice(productObj.price*productObj.quantity),productObj.ts=timestamp,""!==productObj.pack_m&&0!==parseInt(productObj.pack_m,10)||(gramms=!1,index=0,["GRM","KGM","TNE"].forEach(function(unit,i){unit===productObj.unit&&(gramms=!0,index=i)}),gramms&&(productObj.pack_m=productObj.portion*Math.pow(1e3,index))),window.tcart.products.push(productObj),tcart__showBubble(productObj.name+" "+tcart_dict("youAdd"))),tcart__updateTotalProductsinCartObj(),tcart__reDrawCartIcon(),tcart__saveLocalObj(),productDataNeedsToBeUpdated&&tcart__updateProductsPrice(!0),document.querySelector(".t706")),menuCartIcons=document.querySelectorAll(".t-menuwidgeticons__link_cart");"yes"===products.getAttribute("data-opencart-onorder")?window.tcart_fullscreen?setTimeout(function(){tcart__openCartSidebar()},10):setTimeout(function(){tcart__openCart()},10):(cartIcon||menuCartIcons.length)&&(cartIcon&&(cartIcon.classList.add("t706__carticon_neworder"),setTimeout(function(){cartIcon.classList.remove("t706__carticon_neworder")},500)),menuCartIcons.length)&&Array.prototype.forEach.call(menuCartIcons,function(menuCartIcon){menuCartIcon.classList.add("t706__carticon_neworder"),setTimeout(function(){menuCartIcon.classList.remove("t706__carticon_neworder")},500)})}function tcart__updateProductsPrice(ignoreTimestamp){var now=Math.floor(Date.now()/1e3),timestamp,timestamp,ignoreTimestamp,xhr;window.tcart&&window.tcart.updated&&window.tcart.products&&window.tcart.products.length&&(timestamp=parseInt(window.tcart.updated,10),ignoreTimestamp&&!window.tcart.ignoreTimestamp&&(window.tcart.ignoreTimestamp=now),3<(now-timestamp)/3600||ignoreTimestamp&&.02<(now-window.tcart.ignoreTimestamp)/3600)&&((timestamp={}).prodamount=window.tcart.prodamount,timestamp.discount=window.tcart.discount,timestamp.products=JSON.stringify(window.tcart.products),timestamp.amount=window.tcart.amount,timestamp.total=window.tcart.total,timestamp.updated=window.tcart.updated,timestamp=JSON.stringify(timestamp),window.tcart_endpoint||(window.tcart_endpoint="store.tildacdn.com"),ignoreTimestamp="https://"+window.tcart_endpoint+"/api/getpriceproducts/",(xhr=new XMLHttpRequest).open("POST",ignoreTimestamp),xhr.onload=function(){if(200<=xhr.status&&xhr.status<400){var data=xhr.responseText,productsArr=("string"==typeof data&&"{"===data.substr(0,1)||console.error("Can't get array."),[]);try{var dataObj=JSON.parse(data);if("error"===dataObj.status)productsArr=dataObj.bad;else if("success"===dataObj.status)return}catch(e){console.error("Can't get JSON.",data)}""===productsArr?console.error("Something went wrong. Can't get products array."):0!==productsArr.length&&(Object.keys(productsArr).forEach(function(i){var prodBad=productsArr[i],uidBad=prodBad.uid||prodBad.lid,variantsBad;"PRICE_CHANGED"===prodBad.error&&(variantsBad="",prodBad.variant&&(variantsBad+=prodBad.variant+"|"),prodBad.variant2&&(variantsBad+=prodBad.variant2+"|"),prodBad.variant3&&(variantsBad+=prodBad.variant3+"|"),prodBad.variant4&&(variantsBad+=prodBad.variant4+"|"),prodBad.variant5&&(variantsBad+=prodBad.variant5+"|"),!variantsBad&&prodBad.options&&prodBad.options.forEach(function(option){variantsBad+=(option.variant||"").toLowerCase()+"|"}),window.tcart.products.forEach(function(prodInCart,index){var uid=prodInCart.uid||prodInCart.lid;if(uidBad===uid){if(void 0!==prodInCart.options&&void 0!==prodBad.options&&variantsBad){var variants="";if(prodInCart.options.forEach(function(option){variants+=(option.variant||"").toLowerCase()+"|"}),variantsBad===variants)return window.tcart.products[index].amount=parseFloat(prodBad.last_amount),void(window.tcart.products[index].price=parseFloat(prodBad.last_price))}void 0===prodInCart.options&&void 0===prodBad.options&&void 0===prodBad.variant&&(window.tcart.products[index].amount=parseFloat(prodBad.last_amount),window.tcart.products[index].price=parseFloat(prodBad.last_price))}})),"LESS_PRODUCTS"!==prodBad.error&&"NOT_FOUND_PRODUCT"!==prodBad.error||window.tcart.products.forEach(function(product,index){var product=product.uid||product.lid;uidBad===product&&(window.tcart.products[index]={})}),"SKU_CHANGED"===prodBad.error&&window.tcart.products.forEach(function(prodInCart,index){var prodInCart=prodInCart.uid||prodInCart.lid;uidBad===prodInCart&&(window.tcart.products[index].sku=prodBad.last_sku)})}),tcart__saveLocalObj(),tcart__reDrawProducts(),tcart__updateTotalProductsinCartObj(),tcart__reDrawCartIcon(),tcart__reDrawTotal())}},xhr.onerror=function(error){tcart_changeEndpoint(error,function(){tcart__updateProductsPrice()})},xhr.send(timestamp))}function tcart__updateTotalProductsinCartObj(){var projectIdEl=document.getElementById("allrecords"),projectIdEl,projectIdEl=(projectIdEl&&(projectIdEl="edit"===projectIdEl.getAttribute("data-tilda-mode"),window.t_cart__discounts&&0!==window.t_cart__discounts.length&&Array.isArray(window.t_cart__discounts)&&!projectIdEl?tcart__onFuncLoad("tcart__calcAmountWithDiscounts",function(){tcart__calcAmountWithDiscounts()}):window.tcart.products&&0<window.tcart.products.length&&(window.tcart.products.forEach(function(product){delete product.discountid,delete product.amount_withdiscount,delete product.price_withdiscount}),delete window.tcart.dyndiscount,delete window.tcart.prodamount_withdyndiscount)),window.tcart.products),total,prodAmount,projectIdEl,projectIdEl;0<projectIdEl.length?(prodAmount=total=0,Array.prototype.forEach.call(projectIdEl,function(product){tcart__isEmptyObject(product)||"yes"===product.deleted||("y"===product.single?total+=1:total+=+product.quantity,prodAmount=+prodAmount+ +product.amount)}),prodAmount=tcart__roundPrice(prodAmount),window.tcart.total=total,projectIdEl=window.tcart.prodamount=prodAmount,projectIdEl=tcart__calcPromocode(projectIdEl=void 0!==window.tcart.prodamount_withdyndiscount&&window.t_cart__discounts&&0<window.t_cart__discounts.length?window.tcart.prodamount_withdyndiscount:projectIdEl),"object"==typeof window.tcart.delivery&&void 0!==window.tcart.delivery.price&&0<window.tcart.delivery.price&&0<window.tcart.prodamount&&(0<window.tcart.delivery.freedl&&projectIdEl>=window.tcart.delivery.freedl||(projectIdEl+=+window.tcart.delivery.price)),0<projectIdEl&&(projectIdEl=tcart__roundPrice(projectIdEl)),window.tcart.amount=projectIdEl):(window.tcart.total=0,window.tcart.prodamount=0,window.tcart.amount=0)}function tcart__reDrawCartIcon(){var cart=window.tcart,cartIcon=document.querySelector(".t706__carticon"),widgetsMenuCartCounters=[],cartIconCounter,cartIconText,widgetsMenuCartCounters=document.querySelectorAll('[data-menu-widgeticon-cart="yes"] .js-carticon-counter');cartIcon&&(cartIconCounter=cartIcon.querySelector(".js-carticon-counter"),cartIconText=document.querySelector(".t706__carticon-text"),1==cart.total)&&(cartIcon.style.opacity=0,cartIcon.style.transition="opacity .3s",cartIcon.style.opacity=1),void 0!==cart.products&&0<cart.products.length&&0<cart.total?(cartIcon&&cartIcon.classList.add("t706__carticon_showed"),cartIconCounter&&(cartIconCounter.innerHTML=cart.total),Array.prototype.forEach.call(widgetsMenuCartCounters,function(widgetsMenuCartCounter){widgetsMenuCartCounter.innerHTML=cart.total})):(cartIcon&&cartIcon.classList.remove("t706__carticon_showed"),cartIconCounter&&(cartIconCounter.innerHTML=""),Array.prototype.forEach.call(widgetsMenuCartCounters,function(widgetsMenuCartCounter){widgetsMenuCartCounter.innerHTML=""})),cartIconCounter&&(""===tcart__showPrice(window.tcart.prodamount)?cartIconText.style.display="none":(cartIconText.style.display="block",cartIconText.innerHTML="= "+tcart__showPrice(window.tcart.prodamount))),"y"!==window.lazy&&"yes"!==document.querySelector("#allrecords").getAttribute("data-tilda-lazy")||tcart__onFuncLoad("t_lazyload_update",function(){t_lazyload_update()})}function tcart__openCart(){var cartIcon,cartIcon,cartWindow;window.tcart_fullscreen?tcart__openCartSidebar():((cartIcon=document.querySelector(".t706__carticon"))&&cartIcon.classList.remove("t706__carticon_showed"),t_triggerEvent(document.body,"popupShowed"),document.querySelector("body").classList.add("t706__body_cartwinshowed"),(cartIcon=document.getElementById("customdelivery"))&&cartIcon.querySelector(".tcart__preloader")||tcart__unblockSubmitButton(),window.tildaForm&&window.tildaForm.hideErrors&&window.tildaForm.hideErrors(document.querySelector(".t706 .t-form")),setTimeout(function(){tcart__lockScroll()},500),tcart__syncProductsObject__LStoObj(),tcart__updateProductsPrice(),(cartWindow=document.querySelector(".t706__cartwin")).style.display="",cartWindow.style.opacity=0,cartWindow.style.transition="opacity .3s",cartWindow.classList.add("t706__cartwin_showed"),setTimeout(function(){cartWindow.style.opacity=1},0),tcart__reDrawProducts(),tcart__reDrawTotal(),tcart__initDelivery(),tcart__restoreFieldsFromLS(),document.addEventListener("keyup",tcart__keyUpFunc),"y"!==window.lazy&&"yes"!==document.querySelector("#allrecords").getAttribute("data-tilda-lazy")||tcart__onFuncLoad("t_lazyload_update",function(){t_lazyload_update()}),tcart__onFuncLoad("t_forms__calculateInputsWidth",function(){t_forms__calculateInputsWidth()}))}function tcart__reDrawProducts(){var cartWindowProducts=document.querySelector(".t706__cartwin-products"),cartContent=document.querySelector(".t706__cartwin-content"),cartWindowContentTop=document.querySelector(".t706__cartwin-top"),cartWindowContentBottom=document.querySelector(".t706__cartwin-bottom"),actualProductsObj,oldCountProducts,actualCountProducts,hasImg=(window.tcart_fullscreen&&(cartWindowProducts=document.querySelector(".t706__sidebar-products"),cartContent=document.querySelector(".t706__sidebar-content"),cartWindowContentTop=document.querySelector(".t706__sidebar-top"),document.body.classList.contains("t706__body_cartpageshowed"))&&(cartWindowProducts=document.querySelector(".t706__cartpage-products")),void 0!==window.tcart.products&&(actualProductsObj=[],oldCountProducts=window.tcart.products.length,Array.prototype.forEach.call(window.tcart.products,function(product){!tcart__isEmptyObject(product)&&"yes"!==product.deleted&&0<product.quantity&&actualProductsObj.push(product)}),window.tcart.products=actualProductsObj,window.tcart.products.length!==oldCountProducts)&&tcart__saveLocalObj(),""),str,cartContentStyles,cartContentBgColor,colorSvgIcon,invertSvgIcon;0<actualProductsObj.length&&Array.prototype.forEach.call(actualProductsObj,function(product){""!=product.img&&(hasImg="yes")}),0<actualProductsObj.length?(str="",invertSvgIcon="white"===tcart__lumaRgb(getComputedStyle(cartContent).backgroundColor||"rbg(255,255,255)")?"filter:invert(100%);":"",Array.prototype.forEach.call(actualProductsObj,function(product,index){str+='<div class="t706__product" data-cart-product-i="'+index+'">',"yes"==hasImg&&(str+='<div class="t706__product-thumb"><div class="t706__product-imgdiv"'+(""!==product.img?"style=\"background-image:url('"+product.img+"');\"":"")+"></div></div>"),str+='<div class="t706__product-title t-descr t-descr_sm">',product.url?str+='<a style="color: inherit" target="_blank" href="'+product.url+'">'+product.name+"</a>":str+=product.name,product.options&&0<product.options.length&&(str+='<div class="t706__product-title__option">',Array.prototype.forEach.call(product.options,function(option){str+="<div>"+option.option+": "+option.variant+"</div>"}),str+="</div>"),void 0!==product.sku&&""!=product.sku&&(str=(str+='<div class="t706__product-title__option">')+product.sku+"</div>"),0<product.portion&&(str=(str+='<div class="t706__product-title__portion">')+tcart__showPrice(product.price)+"/","1"!==product.portion&&(str+=product.portion+" "),str+=tcart_dict(product.unit)+"</div>"),str+="</div>","y"==window.tcart_oneproduct?str+='<div class="t706__product-plusminus t-descr t-descr_sm" style="display:none;"><span class="t706__product-quantity">'+product.quantity+"</span></div>":str=(str=(str+='<div class="t706__product-plusminus t-descr t-descr_sm"><span class="t706__product-minus"><img src="https://static.tildacdn.com/lib/linea/c8eecd27-9482-6c4f-7896-3eb09f6a1091/arrows_circle_minus.svg" style="width:16px;height:16px;border:0;'+invertSvgIcon+'"></span>')+'<span class="t706__product-quantity">'+product.quantity+"</span>")+'<span class="t706__product-plus"><img src="https://static.tildacdn.com/lib/linea/c47d1e0c-6880-dc39-ae34-521197f7fba7/arrows_circle_plus.svg" style="width:16px;height:16px;border:0;'+invertSvgIcon+'"></span></div>',0<product.portion?(str+='<div class="t706__product-amount--portion t-descr t-descr_sm">',0<product.amount&&(str=(str+='<span class="t706__product-amount">'+tcart__showPrice(product.amount)+"</span>")+'<span class="t706__product-portion">'+tcart__showWeight(product.quantity*product.portion,product.unit)+"</span>")):(str+='<div class="t706__product-amount t-descr t-descr_sm">',0<product.amount&&(str+=tcart__showPrice(product.amount))),str=(str+="</div>")+'<div class="t706__product-del-wrapper" style="display: table-cell; width: 20px; padding: 15px 0 15px 15px; vertical-align: middle;"><span class="t706__product-del"><img src="https://static.tildacdn.com/lib/linea/1bec3cd7-e9d1-2879-5880-19b597ef9f1a/arrows_circle_remove.svg" style="width:20px;height:20px;border:0;'+invertSvgIcon+'"></span></div></div>'}),cartWindowProducts.innerHTML=str,tcart__addEvents__forProducts(),tcart__unblockSubmitButton(),cartWindowContentTop.style.borderBottomWidth="",cartWindowContentBottom&&(cartWindowContentBottom.style.borderTopWidth="")):(cartWindowProducts.innerHTML='<div class="t-name tn-name_xs t706__cartpage-products_empty">'+tcart_dict("empty")+"</div>",cartWindowContentTop.style.borderBottomWidth="0",cartWindowContentBottom&&(cartWindowContentBottom.style.borderTopWidth="0"))}function tcart__lumaRgb(color){var isArray=Array.isArray(color),isArray;return void 0===color||0!==color.indexOf("rgb")&&!isArray||(isArray=isArray?color:color.split("(")[1].split(")")[0].split(",")).length<3||128<.2126*isArray[0]+.7152*isArray[1]+.0722*isArray[2]?"black":"white"}function tcart__reDrawTotal(){var totals={subtotal:{text:tcart_dict("subtotal"),value:""},dyndiscount:{text:tcart_dict("discount"),value:""},promoCode:{text:tcart_dict("promoCode"),value:""},discount:{text:tcart_dict("discount"),value:""},subtotalDiscount:{text:tcart_dict("subtotalDiscount"),value:""},delivery:{text:"",value:""}},isZeroBecauseOfDiscount="number"==typeof window.tcart.prodamount&&"number"==typeof window.tcart.dyndiscount&&window.tcart.prodamount===window.tcart.dyndiscount,totalAmountInfo=(window.tcart_fullscreen&&(document.querySelector(".t706__sidebar-prodamount").innerHTML=tcart__showPrice(window.tcart.prodamount)),document.querySelector(".t706__cartwin-prodamount").innerHTML=tcart__showPrice(window.tcart.prodamount),document.querySelector(".t706__cartwin-totalamount").innerHTML=tcart__showPrice(window.tcart.amount,isZeroBecauseOfDiscount?"acceptzero":""),document.querySelector(".t706__cartwin-totalamount-info")),freeDelivery=(totalAmountInfo.innerHTML="",void 0!==window.tcart.dyndiscount&&0!==window.tcart.dyndiscount&&window.t_cart__discounts&&0<window.t_cart__discounts.length&&(totals.dyndiscount.value=tcart__showPrice(window.tcart.dyndiscount),totals.subtotalDiscount.value=tcart__showPrice(window.tcart.prodamount_withdyndiscount,"acceptzero"),totals.dyndiscount.text+=tcart__addDiscountInfo()),"object"!=typeof window.tcart.promocode&&"object"!=typeof window.tcart.delivery||(totals.subtotal.value=tcart__showPrice(window.tcart.prodamount)),"object"==typeof window.tcart.promocode&&(totals.promoCode.value=window.tcart.promocode.discountpercent?" "+parseFloat(window.tcart.promocode.discountpercent)+"% ":"",totals.discount.value=tcart__showPrice(window.tcart.prodamount_discountsum),0<window.tcart.prodamount_withdiscount?totals.subtotalDiscount.value=tcart__showPrice(window.tcart.prodamount_withdiscount):totals.subtotalDiscount.value="0"),!1),freeDelivery,price,prodamount,prodamount,price=("object"==typeof window.tcart.delivery&&window.tcart.delivery.name&&void 0!==window.tcart.delivery.price&&(0<window.tcart.delivery.price||window.tcart.delivery["service-id"])&&(0<window.tcart.delivery.freedl&&window.tcart.prodamount>=window.tcart.delivery.freedl&&(window.tcart.prodamount_withdiscount>=window.tcart.delivery.freedl||!window.tcart.prodamount_withdiscount)&&(window.tcart.prodamount_withdyndiscount>=window.tcart.delivery.freedl||!window.tcart.prodamount_withdyndiscount)?(freeDelivery=!0,price="0",window.tcart.currency_txt_l&&(price=window.tcart.currency_txt_l+" "+price),window.tcart.currency_txt_r&&(price+=" "+window.tcart.currency_txt_r.trim()),totals.delivery.text=window.tcart.delivery.name,totals.delivery.value=price):0<window.tcart.delivery.price&&(totals.delivery.text=window.tcart.delivery.name,totals.delivery.value=tcart__showPrice(window.tcart.delivery.price))),Object.keys(totals).forEach(function(key){var key=totals[key],label,key;key.text&&key.value&&(label='<span class="t706__cartwin-totalamount-info_label">'+key.text+":</span>",key='<span class="t706__cartwin-totalamount-info_value" '+(freeDelivery?'title="'+tcart_dict("free")+'"':"")+">"+key.value+"</span>",totalAmountInfo.insertAdjacentHTML("beforeend",label+key+"<br>"))}),window.tcart_fullscreen&&!window.tcart_isMobile?(prodamount=document.querySelector(".t706__cartpage-prodamount")).style.display="none":window.tcart_fullscreen&&window.tcart_isMobile&&((prodamount=document.querySelector(".t706__cartpage-prodamount")).style.display="block"),document.querySelector(".t706__cartpage-totals")),price=(price&&(0==window.tcart.prodamount?price.style.display="none":price.style.display="block"),document.querySelector(".t706__cartwin-prodamount-wrap")),price=(0==window.tcart.prodamount?price.style.display="none":price.style.display="block",tcart__changeSubmitStatus(),document.querySelector(".t706__cartwin-totalamount-wrap")),orderForm,orderForm,orderForm=(price&&(orderForm=window.tcart_fullscreen?document.querySelector(".t706__cartpage-form"):document.querySelector(".t706__orderform"),window.tcart.prodamount!=window.tcart.amount||orderForm&&700<orderForm.offsetHeight&&!window.tcart_fullscreen?price.style.display="block":price.style.display="none"),window.tcart.promocode&&(price.style.display="block",0==window.tcart.amount)&&(document.querySelector(".t706__cartwin-totalamount").innerHTML="0",window.tcart_fullscreen)&&(orderForm=document.querySelector(".t706__cartpage-order-total-value"))&&(orderForm.innerHTML="0"),window.tcart.delivery&&0<window.tcart.delivery.price&&(price.style.display="block"),isZeroBecauseOfDiscount&&(price.style.display="block"),document.querySelector(".t706__carticon-text")),price="= "+tcart__showPrice(window.tcart.prodamount);void 0!==window.tcart.prodamount_withdyndiscount&&window.t_cart__discounts&&0<window.t_cart__discounts.length&&(price="= "+tcart__showPrice(window.tcart.prodamount_withdyndiscount,isZeroBecauseOfDiscount?"acceptzero":"")),orderForm&&(orderForm.innerHTML=price)}function tcart__changeSubmitStatus(){var newDeliveryActive=window.tcart_newDeliveryActive,minOrderSetted=0<window.tcart_minorder,minQuantitySetted=0<window.tcart_mincntorder,customDelivery=document.getElementById("customdelivery");function hideMinOrders(){var minOrders=document.querySelectorAll(".t706__cartwin-prodamount-minorder");Array.prototype.forEach.call(minOrders,function(element){element.style.display="none"})}function showMinOrders(){var minOrders=document.querySelectorAll(".t706__cartwin-prodamount-minorder");Array.prototype.forEach.call(minOrders,function(element){element.style.display="block"})}function hideMinCountOrders(){var minOrders=document.querySelectorAll(".t706__cartwin-prodamount-mincntorder");Array.prototype.forEach.call(minOrders,function(element){element.style.display="none"})}function showMinCountOrders(){var minOrders=document.querySelectorAll(".t706__cartwin-prodamount-mincntorder");Array.prototype.forEach.call(minOrders,function(element){element.style.display="block"})}if(newDeliveryActive&&window.tcart.emptyDeliveryServices&&(window.tcart__errorHandler.show(),tcart__blockSubmitButton()),minOrderSetted&&minQuantitySetted)minOrderSetted&&(window.tcart.prodamount>=window.tcart_minorder?hideMinOrders:showMinOrders)(),minQuantitySetted&&(window.tcart.total>=window.tcart_mincntorder?hideMinCountOrders:showMinCountOrders)(),window.tcart.prodamount>=window.tcart_minorder&&window.tcart.total>=window.tcart_mincntorder&&(newDeliveryActive&&window.tcart.emptyDeliveryServices||tcart__unblockSubmitButton());else if(minOrderSetted||minQuantitySetted){if(minOrderSetted)if(window.tcart.prodamount>=window.tcart_minorder){if(newDeliveryActive&&window.tcart.emptyDeliveryServices)return;customDelivery&&customDelivery.querySelector(".tcart__preloader")||(hideMinOrders(),tcart__unblockSubmitButton())}else showMinOrders();minQuantitySetted&&(window.tcart.total>=window.tcart_mincntorder?newDeliveryActive&&window.tcart.emptyDeliveryServices||(hideMinCountOrders(),tcart__unblockSubmitButton()):showMinCountOrders())}else newDeliveryActive&&!window.tcart.emptyDeliveryServices&&(window.tcart__errorHandler.hide(),customDelivery&&customDelivery.querySelector(".tcart__preloader")||tcart__unblockSubmitButton())}function tcart__addEvents__forProducts(){Array.prototype.forEach.call(document.querySelectorAll(".t706__product-plus"),function(btn){btn.addEventListener("click",function(){tcart__product__plus(this)})}),Array.prototype.forEach.call(document.querySelectorAll(".t706__product-minus"),function(btn){btn.addEventListener("click",function(){tcart__product__minus(this)})}),Array.prototype.forEach.call(document.querySelectorAll(".t706__product-del"),function(btn){btn.addEventListener("click",function(){tcart__product__del(this)})}),Array.prototype.forEach.call(document.querySelectorAll(".t706__product-quantity"),function(btn){btn.addEventListener("click",function(){tcart__product__editquantity(this)})})}function tcart__closeCart(){var cart=window.tcart,cartIcon=document.querySelector(".t706__carticon"),cartIconText=document.querySelector(".t706__carticon-text"),cartWindow=document.querySelector(".t706__cartwin"),isZeroBecauseOfDiscount;t_triggerEvent(document.body,"popupHidden"),document.querySelector("body").classList.remove("t706__body_cartwinshowed"),tcart__unlockScroll(),tcart__unblockSubmitButton(),"y"===window.tcart_dontstore&&(window.tcart&&cart.products&&(cart.products=[]),tcart__updateTotalProductsinCartObj(),tcart__reDrawCartIcon(),tcart__reDrawTotal()),cartIcon&&(cart.products&&0<cart.products.length&&0<cart.total?cartIcon.classList.add("t706__carticon_showed"):cartIcon.classList.remove("t706__carticon_showed")),cartIconText&&(isZeroBecauseOfDiscount="number"==typeof cart.prodamount&&"number"==typeof cart.dyndiscount&&cart.prodamount===cart.dyndiscount,0<cart.amount||isZeroBecauseOfDiscount?cartIconText.style.display="block":cartIconText.style.display="none"),tcart__delZeroquantity_inCartObj(),document.removeEventListener("keyup",tcart__keyUpFunc),cartIcon&&cartIcon.classList.remove("t706__carticon_neworder"),cartWindow.style.transition="opacity .3s",cartWindow.style.opacity=0,setTimeout(function(){cartWindow.classList.remove("t706__cartwin_showed"),cartWindow.style.opacity="1"},300),"yes"==window.tcart_success&&location.reload()}function tcart__getLostCart(params){var apiUrl="https://forms.tildacdn.com/api/v1/getlostbasket/",xhr=new XMLHttpRequest;xhr.open("POST",apiUrl),xhr.onload=function(){if(200<=xhr.status&&xhr.status<400){var data=xhr.responseText,productsArr=("string"==typeof data&&"{"===data.substr(0,1)||console.error("Can't get array."),[]),data;try{var dataObj=JSON.parse(data),productsArr=dataObj.jsonproducts}catch(e){console.error("Can't get JSON.",data)}productsArr&&0!==productsArr.length?tcart__getProductsInfoById(productsArr):(tcart__addLostCartStyles(),tcart__showWrongOrderPopup(),tcart__clearLostCartUrl(),data=dataObj.error||"Something went wrong. Can't get products array.",console.error(data))}},params=JSON.stringify(params),xhr.send(params)}function tcart__clearLostCartUrl(){var currentUrl=window.location.href,indexToRemove=currentUrl.indexOf("#!/torder/");if(-1<indexToRemove)try{window.history.replaceState("","",currentUrl.substring(0,indexToRemove))}catch(e){}}function tcart__restoreLostCart(restoredProducts){var dialog,saveItems,cleartCart,closeDialog;0!==window.tcart.products.length?(tcart__addLostCartStyles(),tcart__showClearCartDialog(),saveItems=(dialog=document.querySelector("#clear-cart-dialog")).querySelector(".js-clearcart-no"),cleartCart=dialog.querySelector(".js-clearcart-yes"),closeDialog=function(){t_triggerEvent(document.body,"popupHidden"),document.body.classList.remove("t-body_popupshowed"),null!==dialog.parentNode&&dialog.parentNode.removeChild(dialog)},saveItems.addEventListener("click",function(){closeDialog(),tcart__openRestoredCart(restoredProducts)}),cleartCart.addEventListener("click",function(){if(closeDialog(),window.tcart={amount:0,currency:"",system:"",products:[]},"object"==typeof localStorage)try{localStorage.removeItem("tcart")}catch(e){console.log("Your web browser does not support localStorage.")}try{delete window.tcart,tcart__loadLocalObj()}catch(e){}tcart__openRestoredCart(restoredProducts)})):tcart__openRestoredCart(restoredProducts)}function tcart__saveRestoredProducts(restoredProducts){restoredProducts&&restoredProducts.forEach(function(product){tcart__addProduct(product)})}function tcart__openRestoredCart(restoredProducts){tcart__saveRestoredProducts(restoredProducts),(window.tcart_fullscreen?tcart__openCartSidebar:tcart__openCart)(),tcart__clearLostCartUrl()}function tcart__getProductsInfoById(products){var genUids=products.map(function(p){return p.gen_uid}),c=Date.now(),c={productsuid:genUids,c:c};if(!window.t_store_endpoint){window.t_store_endpoint="store.tildacdn.com";try{var rootzoneapi=document.getElementById("allrecords").getAttribute("data-tilda-root-zone");rootzoneapi&&(window.t_store_endpoint="store.tildaapi."+rootzoneapi)}catch(e){}}var rootzoneapi="https://"+window.t_store_endpoint+"/api/getproductsbyuid/",c=JSON.stringify(c),xhr=new XMLHttpRequest;xhr.onload=function(){if(xhr.readyState===xhr.DONE&&200===xhr.status){"string"==typeof xhr.responseText&&"{"===xhr.responseText.substring(0,1)||console.log("Can't get products array by uid list");try{var data=JSON.parse(xhr.responseText),newProducts,restoredProducts;"object"==typeof data&&null!==data?(newProducts=data.products,restoredProducts=[],products.forEach(function(product){var newProductIdx=newProducts.map(function(x){return x.uid}).indexOf(parseInt(product.gen_uid,10)),newProductIdx=newProducts[newProductIdx],newProductGallery,newProductImg,newProductGallery,newProductIdx,newProductGallery;newProductIdx&&(newProductGallery="",(newProductGallery=newProductIdx.gallery?JSON.parse(newProductIdx.gallery):newProductGallery).length&&(newProductImg=JSON.parse(newProductIdx.gallery)[0].img),newProductIdx=(newProductGallery=newProductIdx.editions).map(function(x){return x.uid}).indexOf(parseInt(product.uid,10)),(newProductGallery=newProductGallery[newProductIdx]).gen_uid=product.gen_uid,newProductGallery.name=product.name,newProductGallery.quantity=product.quantity,newProductGallery.options=product.options,newProductGallery.amount=product.quantity*product.price,!newProductGallery.img&&newProductImg&&(newProductGallery.img=newProductImg),restoredProducts.push(newProductGallery))}),tcart__restoreLostCart(restoredProducts)):console.log("Can't get products array by uid list")}catch(e){console.log("Can't get products array by uid list")}}},xhr.ontimeout=xhr.onerror=function(){console.log("Can't get getproductsbyuid. Requesting uids: "+genUids)},xhr.open("POST",rootzoneapi),xhr.timeout=2e4,xhr.send(c)}function tcart__fillRestoredCartForm(dataObj){var postObj,shippingObj,promocode,dataObj=(dataObj.post&&(postObj=dataObj.post),dataObj.jsonshipping&&(shippingObj=dataObj.jsonshipping),dataObj.promocode&&(promocode=dataObj.promocode),window.tcart_fullscreen?".t706__cartpage-form-wrapper  .t-form":".t706__orderform .t-form"),dataObj=document.querySelector(dataObj),formFields=dataObj.querySelectorAll(".t-input, .t-checkbox"),formFields=(Array.prototype.forEach.call(formFields,function(field){var fieldName=field.name;postObj[fieldName]&&(field.value=postObj[fieldName]),"checkbox"===field.type&&"yes"===postObj[fieldName]&&(field.checked=!0)}),dataObj.querySelector(".t-inputpromocode__wrapper")),promocodeField,savedServiceId,savedServiceName,dataObj,promocodeField,deliveryObj;formFields&&(promocodeField=formFields.querySelector(".t-inputpromocode")),promocode&&promocode.code&&promocodeField&&(promocodeField.value=promocode.code,formFields.querySelector(".t-inputpromocode__btn").style.display="table-cell"),shippingObj&&((savedServiceId=shippingObj["service-id"])?(tcart__initDelivery(),window.tcart_newDeliveryActive&&(deliveryObj=tcart_newDelivery,document.addEventListener("renderDeliveryServices",function(){var deliveryWrapper=document.querySelector("#delivery-services-wrapper"),deliveryWrapper;deliveryWrapper&&(deliveryWrapper=deliveryWrapper.querySelectorAll(".t-radio_delivery"),Array.prototype.forEach.call(deliveryWrapper,function(delivery){var deliveryType,addressesWrapper,fillAddress;delivery.getAttribute("data-service-id")===savedServiceId&&(delivery.click(),deliveryType=delivery.getAttribute("data-delivery-type"),delivery.removeEventListener("change",fillAddress=function(){var deliveryFields=(addressesWrapper=document.querySelector("#addresses-wrapper")).querySelectorAll('[data-service-id="'+savedServiceId+'"]');Array.prototype.forEach.call(deliveryFields,function(field){var fieldName=field.name.replace("tildadelivery-",""),field,fieldName;shippingObj[fieldName]&&(field.value=shippingObj[fieldName]),"pickup"==deliveryType&&(field=shippingObj["pickup-id"],fieldName=document.getElementById("pickup-searchbox"),field&&fieldName&&deliveryObj.showPickupInfo(field,fieldName),fieldName.querySelector(".searchbox-input").setAttribute("data-option-selected",!0))})}),delivery.addEventListener("change",fillAddress),addressesWrapper&&addressesWrapper.querySelectorAll('[data-service-id="'+savedServiceId+'"]')?fillAddress():document.addEventListener("renderDeliveryAddresses",fillAddress))}))}))):(savedServiceName=shippingObj.name,(dataObj=document.querySelector(".t-radio__wrapper-delivery"))&&(promocodeField=dataObj.querySelectorAll(".t-radio_delivery"),Array.prototype.forEach.call(promocodeField,function(delivery){delivery.value===savedServiceName&&delivery.click()}))))}function tcart__showClearCartDialog(){var html,dialog;document.querySelector("#clear-cart-dialog")||(html='<div id="clear-cart-dialog" class="t706__restoreorder-popup-layout"><div class="t706__restoreorder-popup" style="display: block;max-width: calc(100% - 40px);width: 560px;background: #fff;font-size: 14px;margin: 20px auto;box-shadow: 0 0 10px 5px rgba(0,0,0,.15);border-radius: 5px;"><div class="t706__restoreorder-popup-body"><div class="t706__restoreorder-popup-header t-name t-name_md">'+tcart_dict("restoreHeader")+'</div><div class="t-text t-text_xs">'+tcart_dict("restoreText")+'</div></div><div class="t706__restoreorder-popup-footer"><input type="button" value="'+tcart_dict("restoreClearCart")+'" class="js-clearcart-yes t706__restoreorder-popup-btn t-btn t-btn_sm"><input type="button" value="'+tcart_dict("restoreSaveItems")+'" class="js-clearcart-no t706__restoreorder-popup-btn t-btn t-btn_sm"></div></div></div>',document.querySelector("body").insertAdjacentHTML("beforeend",html),t_triggerEvent(document.body,"popupShowed"),document.body.classList.add("t-body_popupshowed"),document.querySelector("#clear-cart-dialog").style.display="block")}function tcart__showWrongOrderPopup(){var html,dialog,closeDialog,saveItems;document.querySelector("#wrong-order-popup")||(html='<div id="wrong-order-popup" class="t706__restoreorder-popup-layout"><div class="t706__restoreorder-popup"><div class="t706__restoreorder-popup-body"><div class="t-name t-name_md t706__restoreorder-popup-header">'+tcart_dict("restoreHeader")+'</div><div class="t-text t-text_xs">'+tcart_dict("restoreWrongOrder")+'</div></div><div class="t706__restoreorder-popup-footer"><div><input type="button" value="OK" class="t706__restoreorder-popup-btn js-clearcart-no t-btn t-btn_sm"></div></div></div></div>',document.querySelector("body").insertAdjacentHTML("beforeend",html),t_triggerEvent(document.body,"popupShowed"),document.body.classList.add("t-body_popupshowed"),(dialog=document.querySelector("#wrong-order-popup")).style.display="block",closeDialog=function(){t_triggerEvent(document.body,"popupHidden"),document.body.classList.remove("t-body_popupshowed"),null!==dialog.parentNode&&dialog.parentNode.removeChild(dialog)},dialog.querySelector(".js-clearcart-no").addEventListener("click",function(){closeDialog()}))}function tcart__addLostCartStyles(){var lostCartCSSLink="https://static.tildacdn.com/css/tilda-cart-restoreorder-1.0.min.css",lostCartCSS,link;document.querySelector('link[href^="'+lostCartCSSLink+'"]')||((link=document.createElement("link")).setAttribute("rel","stylesheet"),link.setAttribute("type","text/css"),link.setAttribute("href",lostCartCSSLink),document.getElementsByTagName("head")[0].appendChild(link),document.querySelector("body").insertAdjacentElement("beforeend",link))}function tcart__keyUpFunc(e){27==e.keyCode&&((window.tcart_fullscreen?tcart__closeCartSidebar:tcart__closeCart)(),document.body.classList.contains("t706__body_cartpageshowed"))&&tcart__closeCartFullscreen()}function tcart__blockSubmitButton(){var submitButton=document.querySelector(".t706 .t-form__submit button");submitButton&&(submitButton.classList.add("t706__submit_disable"),submitButton.setAttribute("disabled","disabled"))}function tcart__unblockSubmitButton(){var submitButton=document.querySelector(".t706 .t-form__submit button");submitButton&&(submitButton.classList.remove("t706__submit_disable"),submitButton.removeAttribute("disabled"))}function tcart__blockSidebarContinueButton(){var sidebarBtn;window.tcart_fullscreen&&(sidebarBtn=document.querySelector(".t706 .t706__sidebar-continue"),sidebarBtn=window.tcart_isMobile?document.querySelector(".t706 .t706__cartpage .t706__cartpage-open-form"):sidebarBtn)&&sidebarBtn.classList.add("t706__submit_disable")}function tcart__unblockSidebarContinueButton(){var sidebarBtn;window.tcart_fullscreen&&(sidebarBtn=document.querySelector(".t706 .t706__sidebar-continue"),sidebarBtn=window.tcart_isMobile?document.querySelector(".t706 .t706__cartpage .t706__cartpage-open-form"):sidebarBtn)&&sidebarBtn.classList.remove("t706__submit_disable")}function tcart__product__plus(buttonElement){var buttonElement=buttonElement.closest(".t706__product"),cartProductIndex=buttonElement.getAttribute("data-cart-product-i");!window.tcart.products[cartProductIndex]&&(tcart__syncProductsObject__LStoObj(),null==window.tcart.products[cartProductIndex])||(0<window.tcart.products[cartProductIndex].quantity&&void 0!==window.tcart.products[cartProductIndex].inv&&0<window.tcart.products[cartProductIndex].inv&&window.tcart.products[cartProductIndex].inv==window.tcart.products[cartProductIndex].quantity?alert(tcart_dict("limitReached")):(window.tcart.products[cartProductIndex].quantity++,window.tcart.products[cartProductIndex].amount=window.tcart.products[cartProductIndex].price*window.tcart.products[cartProductIndex].quantity,window.tcart.products[cartProductIndex].amount=tcart__roundPrice(window.tcart.products[cartProductIndex].amount),buttonElement.querySelector(".t706__product-quantity").innerHTML=window.tcart.products[cartProductIndex].quantity,"y"===window.tcart.products[cartProductIndex].single&&void 0!==window.tcart.products[cartProductIndex].portion&&(buttonElement.querySelector(".t706__product-portion").innerHTML=tcart__showWeight(window.tcart.products[cartProductIndex].quantity*window.tcart.products[cartProductIndex].portion,window.tcart.products[cartProductIndex].unit)),0<window.tcart.products[cartProductIndex].amount?buttonElement.querySelector(".t706__product-amount").innerHTML=tcart__showPrice(window.tcart.products[cartProductIndex].amount):buttonElement.querySelector(".t706__product-amount").innerHTML="",tcart__updateTotalProductsinCartObj(),tcart__reDrawCartIcon(),tcart__reDrawTotal(),tcart__saveLocalObj()))}function tcart__product__minus(buttonElement){var productElement=buttonElement.closest(".t706__product"),cartProductIndex=productElement.getAttribute("data-cart-product-i");!window.tcart.products[cartProductIndex]&&(tcart__syncProductsObject__LStoObj(),null==window.tcart.products[cartProductIndex])||(0<window.tcart.products[cartProductIndex].quantity&&window.tcart.products[cartProductIndex].quantity--,window.tcart.products[cartProductIndex].amount=tcart__roundPrice(window.tcart.products[cartProductIndex].price*window.tcart.products[cartProductIndex].quantity),0<window.tcart.products[cartProductIndex].amount&&(productElement.querySelector(".t706__product-amount").innerHTML=tcart__showPrice(window.tcart.products[cartProductIndex].amount)),0<window.tcart.products[cartProductIndex].amount&&"y"===window.tcart.products[cartProductIndex].single&&void 0!==window.tcart.products[cartProductIndex].portion&&(productElement.querySelector(".t706__product-portion").innerHTML=tcart__showWeight(window.tcart.products[cartProductIndex].quantity*window.tcart.products[cartProductIndex].portion,window.tcart.products[cartProductIndex].unit)),productElement.querySelector(".t706__product-quantity").innerHTML=window.tcart.products[cartProductIndex].quantity,0==window.tcart.products[cartProductIndex].quantity&&tcart__product__del(buttonElement),tcart__updateTotalProductsinCartObj(),tcart__reDrawCartIcon(),tcart__reDrawTotal(),tcart__saveLocalObj())}function tcart__product__del(buttonElement){var productElement=buttonElement.closest(".t706__product"),cartProductIndex=productElement.getAttribute("data-cart-product-i"),cartBlock=buttonElement.closest(".t706"),cartVersion=parseInt(cartBlock.getAttribute("data-cart-ver"),10),cartBlock="yes"===cartBlock.getAttribute("data-cart-countdown"),cartVersion,height,cartBlock,products,product,deleted,cartBlock,cartVersion,productsLength,cartBlock,timerOut;136<cartVersion||cartBlock?(cartVersion=(productElement.querySelector(".t706__product-title a")||productElement.querySelector(".t706__product-title")).textContent,height=productElement.offsetHeight,cartBlock=".t706__cartwin-products",document.body.classList.contains("t706__body_cartsidebarshowed")?cartBlock=".t706__sidebar-products":document.body.classList.contains("t706__body_cartpageshowed")&&(cartBlock=".t706__cartpage-products"),products=document.querySelector(cartBlock),(deleted=products.querySelector('.t706__product-deleted[data-cart-product-i="'+cartProductIndex+'"]'))||(productElement.insertAdjacentHTML("afterend",'<div class="t706__product-deleted" data-cart-product-i="'+cartProductIndex+'" style="display: none">                <div class="t706__product-deleted-wrapper" colspan="5">                    <div class="t706__product-deleted__timer t-descr">                        <div class="t706__product-deleted__timer__left">                            <div class="t706__product-deleted__timer__counter">                                <span class="t706__product-deleted__timer__counter__number">4</span>                                <svg class="t706__product-deleted__timer__counter__circle">                                    <circle r="10" cx="12" cy="12"></circle>                                </svg>                            </div>                            <div class="t706__product-deleted__timer__title">'+tcart_dict("youRemoved")+' "'+cartVersion+'"</div>                        </div>                        <div class="t706__product-deleted__timer__return">'+tcart_dict("undo")+"</div>                    </div>                </div>            </div>"),deleted=products.querySelector('.t706__product-deleted[data-cart-product-i="'+cartProductIndex+'"]'),tcart_fadeOut(productElement,200,function(){null!==productElement.parentNode&&(product=productElement.parentNode.removeChild(productElement)),tcart_fadeIn(deleted,200),deleted.style.height=height+"px"}),window.tcart.products[cartProductIndex].deleted="yes",tcart__updateTotalProductsinCartObj(),tcart__reDrawCartIcon(),(cartBlock=document.getElementById("allrecords"))&&(cartVersion="edit"===cartBlock.getAttribute("data-tilda-mode"),window.t_cart__discounts)&&0!==window.t_cart__discounts.length&&Array.isArray(window.t_cart__discounts)&&!cartVersion&&tcart__onFuncLoad("tcart__calcAmountWithDiscounts",function(){tcart__calcAmountWithDiscounts()}),tcart__reDrawTotal(),tcart__saveLocalObj(),0===window.tcart.products.filter(function(product){return!tcart__isEmptyObject(product)&&"yes"!==product.deleted&&0!==product.quantity}).length&&(tcart__blockSubmitButton(),cartBlock=document.getElementById("delivery-services-wrapper"),window.tcart__preloader)&&t_delivery__dict&&cartBlock&&(cartBlock.style.display="none",window.tcart__preloader.show(cartBlock,t_delivery__dict("loadingServices"))),timerOut=setInterval(function(){var countdown=deleted.querySelector(".t706__product-deleted__timer__counter__number"),count=countdown.innerText,isClosed;window.tcart_fullscreen?document.body.classList.contains("t706__body_cartsidebarshowed")?isClosed=!document.querySelector(".t706__sidebar").classList.contains("t706__sidebar_showed"):document.body.classList.contains("t706__body_cartpageshowed")&&(isClosed=!document.querySelector(".t706__cartpage").classList.contains("t706__cartpage_showed")):isClosed=!document.querySelector(".t706__cartwin").classList.contains("t706__cartwin_showed"),isClosed&&clearInterval(timerOut),1<count?countdown.innerText=parseInt(count,10)-1:(clearInterval(timerOut),tcart_fadeOut(deleted,200,function(){var attr,productsLength=("yes"!==deleted.getAttribute("data-clicked")&&void 0!==window.tcart.products[cartProductIndex]&&"yes"===window.tcart.products[cartProductIndex].deleted&&(null!==deleted.parentNode&&deleted.parentNode.removeChild(deleted),window.tcart.products[cartProductIndex]={},0===products.querySelectorAll(".t706__product-deleted").length&&tcart__isEmptyObject(window.tcart.products[cartProductIndex])&&(window.tcart.products.splice(cartProductIndex,1),tcart__reDrawProducts()),tcart__saveLocalObj()),window.tcart.products.filter(function(product){return!tcart__isEmptyObject(product)}).length);0!==window.tcart.products.length&&0!==productsLength||(window.tcart_fullscreen?(tcart__closeCartFullscreen(),tcart__closeCartSidebar):tcart__closeCart)()}))},1e3),Array.prototype.forEach.call(deleted.querySelectorAll(".t706__product-deleted__timer__return"),function(deletedReturnBtn){var deletedReturnClickHandler=function(){var productsLength,productsLength=(deleted.setAttribute("data-clicked","yes"),clearInterval(timerOut),tcart_fadeOut(deleted,200,function(){deleted.insertAdjacentElement("afterend",product),tcart_fadeIn(product,200),null!==deleted.parentNode&&deleted.parentNode.removeChild(deleted)}),void 0===window.tcart.products[cartProductIndex]?(tcart__reDrawProducts(),productsLength=window.tcart.products.filter(function(el){return!tcart__isEmptyObject(el)}).length,0!==window.tcart.products.length&&0!==productsLength||tcart__closeCart()):delete window.tcart.products[cartProductIndex].deleted,buttonElement.classList.contains("t706__product-minus")?tcart__product__plus(buttonElement):(tcart__updateTotalProductsinCartObj(),tcart__reDrawCartIcon(),tcart__reDrawTotal(),tcart__saveLocalObj()),document.getElementById("customdelivery"));productsLength&&productsLength.querySelector(".tcart__preloader")||tcart__unblockSubmitButton(),deletedReturnBtn.removeEventListener("click",deletedReturnClickHandler)};deletedReturnBtn.addEventListener("click",deletedReturnClickHandler)}))):(void 0===window.tcart.products[cartProductIndex]&&tcart__syncProductsObject__LStoObj(),window.tcart.products.splice(cartProductIndex,1),null!==productElement.parentNode&&productElement.parentNode.removeChild(productElement),tcart__updateTotalProductsinCartObj(),tcart__reDrawCartIcon(),tcart__saveLocalObj(),tcart__reDrawProducts(),tcart__reDrawTotal(),0===window.tcart.products.length&&(window.tcart_fullscreen?(tcart__closeCartFullscreen(),tcart__closeCartSidebar):tcart__closeCart)())}function tcart__product__editquantity(buttonElement){var quantity="",productElement,cartProductIndex,buttonElementText,quantity,str,quantityInput;buttonElement.querySelector(".t706__product-quantity-inp")||(productElement=buttonElement.closest(".t706__product"),cartProductIndex=productElement.getAttribute("data-cart-product-i"),buttonElementText=parseInt(buttonElement.textContent,10),buttonElement.innerHTML='<input type="text" name="tilda-tmp-cart-qnt" class="t706__product-quantity-inp" value="'+(quantity=0==buttonElementText||0<buttonElementText?buttonElementText:1)+'" style="width:30px">',buttonElement.classList.add("t706__product-quantity_editing"),(quantityInput=buttonElement.querySelector(".t706__product-quantity-inp")).addEventListener("focus",function(){var inputElement=this;setTimeout(function(){inputElement.selectionStart=inputElement.selectionEnd=1e4},0)}),quantityInput.focus(),quantityInput.addEventListener("focusout",function(){var quantity="",quantityInputValue=parseInt(quantityInput.value,10),quantity;tcart__product__updateQuantity(buttonElement,productElement,cartProductIndex,quantity=0<quantityInputValue?quantityInputValue:1),buttonElement.textContent=window.tcart.products[cartProductIndex].quantity,buttonElement.classList.remove("t706__product-quantity_editing")}))}function tcart__product__updateQuantity(buttonElement,productElement,cartProductIndex,quantity){var productElement;0<quantity?(void 0!==window.tcart.products[cartProductIndex].inv&&0<window.tcart.products[cartProductIndex].inv&&quantity>window.tcart.products[cartProductIndex].inv&&(alert(tcart_dict("limitReached")),quantity=window.tcart.products[cartProductIndex].inv),window.tcart.products[cartProductIndex].quantity=quantity,window.tcart.products[cartProductIndex].amount=window.tcart.products[cartProductIndex].price*window.tcart.products[cartProductIndex].quantity,window.tcart.products[cartProductIndex].amount=tcart__roundPrice(window.tcart.products[cartProductIndex].amount),productElement.querySelector(".t706__product-quantity").innerHTML=window.tcart.products[cartProductIndex].quantity,"y"===window.tcart.products[cartProductIndex].single&&void 0!==window.tcart.products[cartProductIndex].portion&&(productElement.querySelector(".t706__product-portion").innerHTML=tcart__showWeight(window.tcart.products[cartProductIndex].quantity*window.tcart.products[cartProductIndex].portion,window.tcart.products[cartProductIndex].unit)),productElement=productElement.querySelector(".t706__product-amount"),0<window.tcart.products[cartProductIndex].amount?productElement.innerHTML=tcart__showPrice(window.tcart.products[cartProductIndex].amount):productElement.innerHTML=""):tcart__product__del(buttonElement),tcart__updateTotalProductsinCartObj(),tcart__reDrawCartIcon(),tcart__reDrawTotal(),tcart__saveLocalObj(),0==quantity&&tcart__reDrawProducts()}function tcart__delZeroquantity_inCartObj(){var products=window.tcart.products,isModified="";0<products.length&&products.forEach(function(product,index){void 0!==product&&0==product.quantity&&(window.tcart.products.splice(index,1),isModified="yes")}),"yes"==isModified&&tcart__saveLocalObj()}function tcart__drawBottomTotalAmount(){var str,prevElement,str=(str=(str=(str="")+'<div class="t706__cartwin-totalamount-wrap t-descr t-descr_xl">'+'<div class="t706__cartwin-totalamount-info" style="margin-top: 10px; font-size:14px; font-weight:400;"></div>')+('<span class="t706__cartwin-totalamount-label">'+tcart_dict("total")+": </span>"))+'<span class="t706__cartwin-totalamount"></span>'+"</div>";window.tcart_fullscreen&&!window.tcart_isMobile?((prevElement=document.querySelector(".t706__cartwin-totalamount-wrap"))&&prevElement.parentNode.removeChild(prevElement),document.querySelector(".t706__cartpage-totals").insertAdjacentHTML("beforeend",str)):document.querySelector(".t706 .t-form__errorbox-middle").insertAdjacentHTML("beforebegin",str)}function tcart__addDelivery(){var deliveryWrapper=document.querySelector(".t706 .t-form .t-radio__wrapper-delivery"),selectedDelivery,deliveryName,deliveryPrice,selectedDelivery,deliveryServiceId,deliveryPrice,selectedDelivery,selectedDelivery;deliveryWrapper&&((selectedDelivery=document.querySelector(".t706 .t-form .t-radio__wrapper-delivery input:checked")?document.querySelector(".t706 .t-form .t-radio__wrapper-delivery input:checked"):document.querySelector(".t706 .t-form .t-radio__wrapper-delivery input"))&&(deliveryName=selectedDelivery.value,deliveryPrice=selectedDelivery.getAttribute("data-delivery-price"),selectedDelivery=document.querySelector(".t706 .t-form .t-radio__wrapper-delivery .t-radio_delivery:checked"))&&(deliveryServiceId=selectedDelivery.getAttribute("data-service-id")),void 0!==deliveryName&&void 0!==deliveryPrice&&""!==deliveryName&&(deliveryPrice=tcart__cleanPrice(deliveryPrice),0<(selectedDelivery=deliveryName.indexOf("="))&&(deliveryName=(deliveryName=deliveryName.substring(0,selectedDelivery)).trim()),window.tcart.delivery={},window.tcart.delivery.name=deliveryName,window.tcart.delivery.price=deliveryPrice,deliveryServiceId&&(window.tcart.delivery.service_id=deliveryServiceId),window.tcart_newDeliveryActive&&0<=window.tcart_newDelivery.deliveryState.freeDeliveryThreshold?window.tcart.delivery.freedl=window.tcart_newDelivery.deliveryState.freeDeliveryThreshold:0<=deliveryWrapper.getAttribute("data-delivery-free")&&(window.tcart.delivery.freedl=parseInt(deliveryWrapper.getAttribute("data-delivery-free"),10))),(selectedDelivery=document.querySelectorAll(".t706 .t-form .t-radio__wrapper-delivery input")).length)&&Array.prototype.forEach.call(selectedDelivery,function(deliveryInput){deliveryInput.addEventListener("change",function(){tcart__updateDelivery()})})}function tcart__updateDelivery(){var selectedDelivery=document.querySelector(".t706 .t-form .t-radio__wrapper-delivery input:checked"),deliveryName,deliveryPrice,selectedDelivery,selectedDelivery,deliveryPrice;selectedDelivery&&(deliveryName=selectedDelivery.value,deliveryPrice=selectedDelivery.getAttribute("data-delivery-price")),void 0!==deliveryName&&void 0!==deliveryPrice&&""!==deliveryName?(deliveryPrice=tcart__cleanPrice(deliveryPrice),""!=deliveryName&&0<(selectedDelivery=deliveryName.indexOf("="))&&(deliveryName=(deliveryName=deliveryName.substring(0,selectedDelivery)).trim()),window.tcart.delivery={},window.tcart.delivery.name=deliveryName,window.tcart.delivery.price=deliveryPrice,window.tcart_newDeliveryActive&&0<=window.tcart_newDelivery.deliveryState.freeDeliveryThreshold?window.tcart.delivery.freedl=window.tcart_newDelivery.deliveryState.freeDeliveryThreshold:0<=(selectedDelivery=document.querySelector(".t706 .t-form .t-radio__wrapper-delivery")).getAttribute("data-delivery-free")&&(window.tcart.delivery.freedl=parseInt(selectedDelivery.getAttribute("data-delivery-free"),10))):void 0!==window.tcart.delivery&&delete window.tcart.delivery,document.querySelector(".t706 #customdelivery")&&(void 0===tcart_newDelivery.fillTcartDelivery?tcart_newDelivery.saveTcartDelivery():tcart_newDelivery.fillTcartDelivery(),tcart_newDelivery.setFullAddress(tcart_newDelivery.getFullAddress())),void 0!==window.tcart.products&&0!==window.tcart.products.length||tcart__syncProductsObject__LStoObj(),tcart__updateTotalProductsinCartObj(),tcart__reDrawTotal()}function tcart__addEvent__selectpayment(){var paymentInputs,selectedInput;0!=document.querySelectorAll(".t706 .t-input-group_pm").length&&(paymentInputs=document.querySelectorAll(".t706 .t-form .t-radio__wrapper-payment input")).length&&(Array.prototype.forEach.call(paymentInputs,function(paymentInput){paymentInput.addEventListener("change",function(){var variantInput,variant,variant=(variant=document.querySelector(".t706 .t-form .t-radio__wrapper-payment input:checked")?document.querySelector(".t706 .t-form .t-radio__wrapper-payment input:checked").getAttribute("data-payment-variant-system"):variant)||"";document.querySelector(".t706").setAttribute("data-payment-variant-system",variant),window.tcart.system=variant})}),selectedInput=document.querySelector(".t706 .t-form .t-radio__wrapper-payment input:checked"))&&t_triggerEvent(selectedInput,"change")}function tcart__escapeHtml(text){var map={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return text.replace(/[<>"']/g,function(m){return map[m]})}function tcart__escapeHtmlImg(text){var map={"<":"&lt;",">":"&gt;",'"':"&quot;"};return text.replace(/[<>"]/g,function(m){return map[m]})}function tcart__cleanPrice(price){return price=!price||(price=(price=price.replace(",",".")).replace(/[^0-9\.]/g,""),price=parseFloat(price).toFixed(2),isNaN(price)&&(price=0),(price=+(price=parseFloat(price)))<0)?0:price}function tcart__roundPrice(price){return price=void 0===price||""==price||0==price||(price=parseFloat(price).toFixed(2),(price=+(price=parseFloat(price)))<0)?0:price}function tcart__showWeight(weight,unit){if(isNaN(parseInt(weight,10)))return"";var convertedUnits={lites:{value:1e3,units:["MLT","LTR"]},gramms:{value:1e3,units:["MGM","GRM","KGM","TNE"]},meters:{value:[10,10,100],units:["MMT","CMT","MTR"]}},position=-1,key="";if(Object.keys(convertedUnits).forEach(function(el){var index=convertedUnits[el].units.indexOf(unit);0<=index&&(position=index,key=el)}),0<=position&&""!==key)for(var value=convertedUnits[key].value,isArray=null!==value&&"object"==typeof value,i=position+1;i<convertedUnits[key].units.length;i++)(value=isArray?value[i]:value)<weight&&(weight/=value,unit=convertedUnits[key].units[i]);return tcart__roundPrice(weight)+" "+tcart_dict(unit)}function tcart__showPrice(price,isZeroValueAccept){if(void 0!==price&&0!=price&&""!=price||"acceptzero"===isZeroValueAccept){if(void 0===price)return"";var priceDecimal;price=price.toString(),void 0!==window.tcart.currency_dec&&"00"==window.tcart.currency_dec&&(-1===price.indexOf(".")&&-1===price.indexOf(",")?price+=".00":1===price.substr(price.indexOf(".")+1).length&&(price+="0")),price=price.replace(/\B(?=(\d{3})+(?!\d))/g," "),price='<div class="t706__cartwin-prodamount-price">'+(price=void 0!==window.tcart.currency_sep&&","==window.tcart.currency_sep?price.replace(".",","):price)+"</div>",window.tcart.currency_txt_l&&(price='<div class="t706__cartwin-prodamount-currency">'+window.tcart.currency_txt_l+"</div>"+price),window.tcart.currency_txt_r&&(price+='<div class="t706__cartwin-prodamount-currency">'+window.tcart.currency_txt_r.trim()+"</div>")}else price="";return price}function tcart__lockScroll(){var bodyScrollTop;!window.t_cart__isiOS||11!==window.t_cart__iOSMajorVersion||window.MSStream||document.body.classList.contains("t-body_scroll-locked")||(bodyScrollTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,document.body.classList.add("t-body_scroll-locked"),document.body.style.top="-"+bodyScrollTop+"px",document.body.setAttribute("data-popup-scrolltop",bodyScrollTop))}function tcart__unlockScroll(){var bodyScrollTop;!window.t_cart__isiOS||11!==window.t_cart__iOSMajorVersion||window.MSStream||document.body.classList.contains("t-body_scroll-locked")||(bodyScrollTop=document.body.getAttribute("data-popup-scrolltop"),document.body.classList.remove("t-body_scroll-locked"),document.body.style.top="",document.body.removeAttribute("data-popup-scrolltop"),window.scrollTo(0,bodyScrollTop))}function tcart__clearProdUrl(){var currentUrl=window.location.href,indexToRemove=currentUrl.indexOf("#!/tproduct/"),indexToRemove;if(-1<(indexToRemove=window.isiOS&&indexToRemove<0&&(indexToRemove=currentUrl.indexOf("%23!/tproduct/"))<0?currentUrl.indexOf("#%21%2Ftproduct%2F"):indexToRemove))try{window.history.replaceState("","",currentUrl.substring(0,indexToRemove))}catch(e){}if(-1<(indexToRemove=(indexToRemove=currentUrl.indexOf("/tproduct/"))<0?currentUrl.indexOf("%2Ftproduct%2F"):indexToRemove))try{var urlBeforePopupOpen=window.sessionStorage.getItem("urlBeforePopupOpen");urlBeforePopupOpen&&window.history.pushState(null,null,urlBeforePopupOpen)}catch(e){}}function tcart__onFuncLoad(funcName,okFunc,time){var startTime,error,callbackError;"function"==typeof window[funcName]?okFunc():(startTime=Date.now(),error=new Error(funcName+" is undefined"),callbackError=function(){throw error},setTimeout(function checkFuncExist(){var currentTime=Date.now();"function"==typeof window[funcName]?okFunc():("complete"===document.readyState&&5e3<currentTime-startTime&&"function"!=typeof window[funcName]&&callbackError(),setTimeout(checkFuncExist,time||100))}))}function tcart_fadeOut(el,duration,complete){var opacity=1,duration=0<(duration=parseInt(duration))?duration/10:40,timer=setInterval(function(){el.style.opacity=opacity,(opacity-=.1)<=.1&&(clearInterval(timer),el.style.display="none","function"==typeof complete)&&complete()},duration)}function tcart_fadeIn(el,duration,complete){if(("1"===getComputedStyle(el).opacity||""===getComputedStyle(el).opacity)&&"none"!==getComputedStyle(el).display)return!1;var opacity=0,duration=0<(duration=parseInt(duration))?duration/10:40,timer=(el.style.opacity=opacity,el.style.display="",setInterval(function(){el.style.opacity=opacity,1<=(opacity+=.1)&&(clearInterval(timer),"function"==typeof complete)&&complete()},duration))}function tcart__isEmptyObject(obj){for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key))return!1;return!0}function tcart_changeEndpoint(error,callback){error&&(500<=error.status||408==error.status||410==error.status||429==error.status||"timeout"==error.statusText||0==error.status&&"rejected"==error.state())&&"store."==window.tcart_endpoint.substring(0,6)?(window.tcart_endpoint="store2.tildacdn.com","function"==typeof callback&&callback()):error&&""<error.responseText?console.log("["+error.status+"] "+error.responseText+". Please, try again later."):error&&error.statusText?console.log("Error ["+error.status+", "+error.statusText+"]. Please, try again later."):console.log("["+error.status+"] Unknown error. Please, try again later.")}function tcart__openCartFullscreen(){document.body.classList.contains("t706__body_cartsidebarshowed")&&tcart__closeCartSidebar(),-1!==location.href.indexOf("#tcart")?(window.history.replaceState({},"",location.href.replace(/#tcart/g,"")),window.history.pushState({},"",location.origin+location.pathname+"#tcart")):window.history.replaceState({},"",location.origin+location.pathname+"#tcart"),t_triggerEvent(document.body,"popupShowed"),document.querySelector("body").classList.add("t706__body_cartpageshowed"),tcart__syncProductsObject__LStoObj(),tcart__updateProductsPrice();var cartWindow=document.querySelector(".t706__cartpage"),form,wrap,btn;cartWindow.style.display="",window.tcart_isMobile&&(form=document.querySelector(".t706__cartpage-form"),wrap=cartWindow.querySelector(".t706__cartpage-open-form-wrap"),btn=cartWindow.querySelector(".t706__cartpage-open-form"),wrap.style.display="block",(form.style.display="none")===btn.style.display&&(btn.style.display="block"),btn.addEventListener("click",function(){form.style.display="block",form.style.opacity=0,form.style.transform="translateY(75%)",form.style.transition="opacity .1s, transform .1s",setTimeout(function(){form.style.opacity=1,form.style.transform="translateY(0)"},0),cartWindow.querySelector(".t706__cartpage-totals").scrollIntoView({behavior:"smooth"}),btn.style.display="none",wrap.style.display="none"})),cartWindow.style.opacity=0,cartWindow.style.transition="opacity .3s",cartWindow.classList.add("t706__cartpage_showed"),setTimeout(function(){cartWindow.style.opacity=1},0),tcart__syncProductsObject__LStoObj(),tcart__updateProductsPrice(),tcart__reDrawProducts(),tcart__reDrawTotal(),tcart__initDelivery(),tcart__restoreFieldsFromLS(),document.addEventListener("keyup",tcart__keyUpFunc),(0===window.tcart.products.length?tcart__blockSidebarContinueButton:tcart__unblockSidebarContinueButton)(),t_triggerEvent(document,"fullscreenCartOpened"),"y"!==window.lazy&&"yes"!==document.querySelector("#allrecords").getAttribute("data-tilda-lazy")||tcart__onFuncLoad("t_lazyload_update",function(){t_lazyload_update()}),tcart__onFuncLoad("t_forms__calculateInputsWidth",function(){t_forms__calculateInputsWidth()})}function tcart__closeCartFullscreen(){var finalUrl,finalUrl=(-1!==location.href.indexOf("#tcart")&&(finalUrl=location.href.replace("#tcart",""),window.history.pushState({},"",finalUrl)),window.tcart),cartIcon=document.querySelector(".t706__carticon"),cartIconText=document.querySelector(".t706__carticon-text"),cartFullscreen=document.querySelector(".t706__cartpage");t_triggerEvent(document.body,"popupHidden"),document.querySelector("body").classList.remove("t706__body_cartpageshowed"),"y"===window.tcart_dontstore&&(window.tcart&&finalUrl.products&&(finalUrl.products=[]),tcart__updateTotalProductsinCartObj(),tcart__reDrawCartIcon(),tcart__reDrawTotal()),cartIcon&&(finalUrl.products&&0<finalUrl.products.length&&0<finalUrl.total?cartIcon.classList.add("t706__carticon_showed"):cartIcon.classList.remove("t706__carticon_showed")),cartIconText&&(0<finalUrl.amount?cartIconText.style.display="block":cartIconText.style.display="none"),tcart__delZeroquantity_inCartObj(),document.removeEventListener("keyup",tcart__keyUpFunc),cartFullscreen&&(cartFullscreen.scrollTop=0,cartFullscreen.style.transition="opacity .3s",cartFullscreen.style.opacity=0,setTimeout(function(){cartFullscreen.classList.remove("t706__cartpage_showed")},300)),"yes"===window.tcart_success&&window.location.reload()}function tcart__openCartSidebar(){var cartWindow,contentEl;window.tcart_isMobile?tcart__openCartFullscreen():(t_triggerEvent(document.body,"popupShowed"),document.querySelector("body").classList.add("t706__body_cartsidebarshowed"),tcart__syncProductsObject__LStoObj(),tcart__updateProductsPrice(),cartWindow=document.querySelector(".t706__sidebar"),contentEl=document.querySelector(".t706__sidebar-content"),cartWindow.style.display="",cartWindow.style.opacity=0,cartWindow.style.transition="opacity .3s",cartWindow.classList.add("t706__sidebar_showed"),setTimeout(function(){contentEl.scrollTop=0,cartWindow.style.opacity=1,contentEl.classList.add("t706__sidebar-content_showed")}),tcart__syncProductsObject__LStoObj(),tcart__updateProductsPrice(),tcart__reDrawProducts(),tcart__reDrawTotal(),document.addEventListener("keyup",tcart__keyUpFunc),(0===window.tcart.products.length?tcart__blockSidebarContinueButton:tcart__unblockSidebarContinueButton)(),"y"!==window.lazy&&"yes"!==document.querySelector("#allrecords").getAttribute("data-tilda-lazy")||tcart__onFuncLoad("t_lazyload_update",function(){t_lazyload_update()}))}function tcart__closeCartSidebar(){var cart=window.tcart,cartIcon=document.querySelector(".t706__carticon"),cartIconText=document.querySelector(".t706__carticon-text"),cartSidebar=document.querySelector(".t706__sidebar");t_triggerEvent(document.body,"popupHidden"),document.querySelector("body").classList.remove("t706__body_cartsidebarshowed"),cartIcon&&(cart.products&&0<cart.products.length&&0<cart.total?cartIcon.classList.add("t706__carticon_showed"):cartIcon.classList.remove("t706__carticon_showed")),cartIconText&&(0<cart.amount?cartIconText.style.display="block":cartIconText.style.display="none"),tcart__delZeroquantity_inCartObj(),document.removeEventListener("keyup",tcart__keyUpFunc),document.querySelector(".t706__sidebar-content").classList.remove("t706__sidebar-content_showed"),setTimeout(function(){cartSidebar.classList.remove("t706__sidebar_showed"),cartSidebar.style.opacity="1"},300),cartSidebar.style.transition="opacity .3s",cartSidebar.style.opacity=0}function tcart__initDelivery(){Array.prototype.forEach.call(document.querySelectorAll(".t706 .t-form .t-radio__wrapper-delivery"),function(wrapper){var wrapper,deliveryScript;"y"!==wrapper.getAttribute("data-delivery-services")||window.tcart_newDeliveryActive||("undefined"!=typeof tcart_newDelivery&&"function"==typeof tcart_newDelivery.init?tcart_newDelivery.init(window.tcart__ymapApiKey):(wrapper="https://static.tildacdn.com/js/tilda-delivery-1.0.min.js",document.querySelector('script[src^="'+wrapper+'"]')||((deliveryScript=document.createElement("script")).type="text/javascript",deliveryScript.src=wrapper,deliveryScript.onload=function(){tcart_newDelivery.init(window.tcart__ymapApiKey);var deliveryCSSLink="https://static.tildacdn.com/css/tilda-delivery-1.0.min.css",deliveryCSS;document.querySelector('link[href^="'+deliveryCSSLink+'"]')||document.querySelector("body").insertAdjacentHTML("beforeend",'<link rel="stylesheet" href="'+deliveryCSSLink+'">')},deliveryScript.onerror=function(textStatus){console.error("Upload script failed, error: "+textStatus)},document.head.appendChild(deliveryScript))))})}function tcart__restoreFieldsFromLS(){var restoreFieldsScriptLink,restoreFieldsScript;0<document.querySelectorAll(".t706 .t-form .t-input-group_sf").length&&(restoreFieldsScriptLink="https://static.tildacdn.com/js/tilda-cart-restorefields-1.0.min.js",document.querySelector('script[src^="'+restoreFieldsScriptLink+'"]')||((restoreFieldsScript=document.createElement("script")).type="text/javascript",restoreFieldsScript.src=restoreFieldsScriptLink,restoreFieldsScript.onload=function(){tcart__restoreFields()},restoreFieldsScript.onerror=function(textStatus){console.error("Upload script failed, error: "+textStatus)},document.head.appendChild(restoreFieldsScript)))}function tcart__loadDiscounts(){var projectid=document.getElementById("allrecords").getAttribute("data-tilda-project-id"),inEditor="edit"===document.getElementById("allrecords").getAttribute("data-tilda-mode");if(!inEditor){var inEditor=!0;try{var prevDiscountsRequest=JSON.parse(localStorage.getItem("tcart_discounts")),prevDiscountsRequestRule=JSON.parse(localStorage.getItem("tcart_discounts_sumrule")),requestTime=prevDiscountsRequest&&new Date(parseInt(prevDiscountsRequest.time,10)),requestDiscounts=prevDiscountsRequest&&prevDiscountsRequest.discounts;requestDiscounts&&0!==requestDiscounts.length&&Date.now()-requestTime<9e5&&(window.t_cart__discounts=requestDiscounts,window.sumpromowithdiscount=prevDiscountsRequestRule,tcart__insertDiscountsScript(),inEditor=!1),requestDiscounts&&0===requestDiscounts.length&&Date.now()-requestTime<9e5&&(window.t_cart__discounts=requestDiscounts,window.sumpromowithdiscount=prevDiscountsRequestRule,inEditor=!1)}catch(e){console.error("Your web browser does not support storing a Discount data locally.")}if(inEditor){window.t_cart__discounts_endpoint="store.tildacdn.com";try{var rootzoneapi=document.getElementById("allrecords").getAttribute("data-tilda-root-zone");rootzoneapi&&(window.t_cart__discounts_endpoint="store.tildaapi."+rootzoneapi)}catch(e){}tcart__sendDiscountsRequest(projectid,function(){window.t_cart__discounts_endpoint="store2.tildacdn.com",tcart__sendDiscountsRequest(projectid)})}}}function tcart__sendDiscountsRequest(projectid,onError){var http=new XMLHttpRequest,url="https://"+window.t_cart__discounts_endpoint+"/api/discounts/v1/getactive/",projectid="projectid="+projectid;http.open("POST",url,!0),http.setRequestHeader("Content-type","application/x-www-form-urlencoded"),http.onreadystatechange=function(){if(4==http.readyState&&200==http.status){var response=JSON.parse(http.responseText);if(!Array.isArray(response)&&response.sumpromowithdiscount&&response.discounts?(window.t_cart__discounts=response.discounts,window.sumpromowithdiscount=response.sumpromowithdiscount):window.t_cart__discounts=response,Array.isArray(window.t_cart__discounts)){if(0!==window.t_cart__discounts.length&&tcart__insertDiscountsScript(),"object"==typeof localStorage)try{var tcart__discounts={time:Date.now(),discounts:window.t_cart__discounts};window.sumpromowithdiscount&&localStorage.setItem("tcart_discounts_sumrule",JSON.stringify(window.sumpromowithdiscount)),localStorage.setItem("tcart_discounts",JSON.stringify(tcart__discounts))}catch(e){console.error("Your web browser does not support storing a Discount data locally.")}}else if("object"==typeof localStorage)try{var tcart__discounts={time:Date.now(),discounts:[]};localStorage.setItem("tcart_discounts",JSON.stringify(tcart__discounts))}catch(e){console.error("Your web browser does not support storing a Discount data locally.")}}},http.ontimeout=http.onerror=function(error){var text,text;error&&(500<=error.status||408==error.status||410==error.status||429==error.status||"timeout"===error.type)?"function"==typeof onError&&setTimeout(function(){onError()},5e3):(text="",text=error&&""<error.responseText?"["+error.status+"] "+error.responseText:error&&error.statusText?"Error ["+error.status+", "+error.statusText+"]":"Error type ["+error.type+"]",console.log(text+". Please, try again later."))},http.timeout=2e4,http.send(projectid)}function tcart__insertDiscountsScript(){var fileName="tilda-cart-discounts-1.0",script,script;document.getElementById("cart_discounts_script")?tcart__onFuncLoad("tcart__calcAmountWithDiscounts",function(){tcart__calcAmountWithDiscounts()}):((script=document.createElement("script")).id="cart_discounts_script",script.type="text/javascript",script.src="https://static.tildacdn.com/js/"+fileName+".min.js",script.onload=function(){console.log("executing discounts"),tcart__calcAmountWithDiscounts()},script.onerror=function(){console.error("Failed to load tilda-cart-discounts: ",this.src)},document.head.appendChild(script),(script=document.createElement("link")).id="cart_discounts_style",script.rel="stylesheet",script.href="https://static.tildacdn.com/css/"+fileName+".min.css",document.head.appendChild(script))}function tcart__addDiscountInfo(){var usedDiscounts={},discountRulesArr=(window.tcart.products.forEach(function(product){"yes"!==product.deleted&&0!==Object.keys(product).length&&product.discountid&&(void 0===usedDiscounts[product.discountid]?usedDiscounts[product.discountid]={value:+(product.amount-product.amount_withdiscount).toFixed(2),typeid:Array.prototype.find.call(window.t_cart__discounts,function(discount){return discount.id===product.discountid}).typeid}:usedDiscounts[product.discountid].value+=+(product.amount-product.amount_withdiscount).toFixed(2))}),[]),discountRules={0:{text:"RU"==window.t_cart__browserLang?"Специальная скидка от кол-ва товаров":"Special discount from product amount",value:0},1:{text:"RU"==window.t_cart__browserLang?"Специальная скидка от суммы заказа":"Special discount from total price",value:0}},str=(Object.keys(usedDiscounts).forEach(function(id){var discountType=usedDiscounts[id].typeid;discountRules[discountType<2?0:1].value+=usedDiscounts[id].value}),Object.keys(discountRules).forEach(function(key){0!==discountRules[key].value&&discountRulesArr.push(discountRules[key].text+": "+(window.tcart.currency_txt_l||"")+discountRules[key].value.toFixed(2)+(window.tcart.currency_txt_r||""))}),'<span class="t706__cartwin-discounts__description-wrapper"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16px" height="16px" viewBox="0 0 100 100" version="1.1"><defs><path d="M50,100 C22.3857625,100 0,77.6142375 0,50 C0,22.3857625 22.3857625,0 50,0 C77.6142375,0 100,22.3857625 100,50 C100,77.6142375 77.6142375,100 50,100 Z M58.315357,47.8754138 C64.89496,45.1601848 68.6565657,39.5064417 68.6565657,32.4846866 C68.6565657,22.841424 60.0015458,15.1818182 49.4949495,15.1818182 C41.3938959,15.1818182 34.1961467,19.7654779 31.4653335,26.6083919 L37.0379757,28.8322756 C38.8326304,24.3352021 43.7844087,21.1818182 49.4949495,21.1818182 C56.8399815,21.1818182 62.6565657,26.3294369 62.6565657,32.4846866 C62.6565657,37.0829994 60.3544491,40.5431111 56.0265483,42.3291218 L58.315357,47.8754138 Z M46.4949495,65.9659424 L52.4949495,65.9659424 C52.4949495,65.8347613 52.4965643,57.1867246 52.499763,57.0584416 C52.6251391,52.0302323 55.1839146,49.2186694 58.315357,47.8754138 L56.0265483,42.3291218 C50.3793252,44.7515403 46.6063369,49.847676 46.4973739,57.1228386 C46.4957596,57.2306251 46.4949495,65.8572009 46.4949495,65.9659424 Z M45.4949495,73.7777778 L45.4949495,83.2929293 L53.4949495,83.2929293 L53.4949495,73.7777778 L45.4949495,73.7777778 Z" id="path-1"/></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Artboard-Copy-3"><mask id="mask-2" fill="white"><use xlink:href="#path-1"/></mask><use id="Combined-Shape" fill="#000000" xlink:href="#path-1"/></g></g></svg><ul class="t706__cartwin-discounts__description'+(1<discountRulesArr.length?"":" t706__cartwin-discounts__description_single")+'">');return discountRulesArr.forEach(function(rule){str+="<li>"+rule+"</li>"}),str+="</ul></span>"}function tcart__calcPromocode(amount){var prodamount_discountsum,prodamount_withdiscount,lastSingleId,prodAmount,remainder,remainder;return"object"!=typeof window.tcart.promocode?(delete window.tcart.prodamount_discountsum,delete window.tcart.prodamount_withdiscount,amount):0<window.tcart.promocode.discountsum||0<window.tcart.promocode.discountpercent?(prodamount_withdiscount=prodamount_discountsum=0,lastSingleId=!1,prodAmount=window.tcart.prodamount,window.t_cart__discounts&&0<window.t_cart__discounts.length&&void 0!==window.tcart.prodamount_withdyndiscount&&(prodAmount=window.tcart.prodamount_withdyndiscount),window.tcart.products.forEach(function(product){var newPriceWithPromocode,productPrice,productAmount,hasPortion,portion,curDiscountInt,newPriceWithPromocode,portion;"yes"!==product.deleted&&0!==Object.keys(product).length&&(newPriceWithPromocode="",productPrice=product.price,productAmount=product.amount,hasPortion=!1,portion=parseInt(product.portion,10),window.t_cart__discounts&&0<window.t_cart__discounts.length&&void 0!==product.amount_withdiscount&&(productPrice=product.price_withdiscount,productAmount=product.amount_withdiscount),product.portion&&(productPrice/=portion,hasPortion=!0,window.showdiscountdata)&&console.log("start price for one portion ("+product.portion+") - "+productPrice),0<window.tcart.promocode.discountsum?newPriceWithPromocode=tcart_ceil(productPrice*(1-window.tcart.promocode.discountsum/prodAmount)):0<window.tcart.promocode.discountpercent&&(newPriceWithPromocode=tcart_ceil(productPrice*(1-window.tcart.promocode.discountpercent/100))),1!=+product.quantity||product.portion||(lastSingleId=!0),hasPortion&&(window.showdiscountdata&&console.log("For one portion: "+productPrice+" -> "+newPriceWithPromocode),newPriceWithPromocode=+(newPriceWithPromocode*portion).toFixed(2)),portion=+(newPriceWithPromocode*product.quantity).toFixed(2),prodamount_discountsum+=+(productAmount-portion).toFixed(2),prodamount_withdiscount=+(+prodamount_withdiscount+portion).toFixed(2),window.showdiscountdata)&&console.log((hasPortion?productPrice*product.portion:productPrice)+" -> "+newPriceWithPromocode+" = "+prodamount_discountsum)}),prodamount_discountsum=+prodamount_discountsum.toFixed(2),0<window.tcart.promocode.discountsum&&(remainder=+window.tcart.promocode.discountsum-+prodamount_discountsum,window.showdiscountdata&&console.log(window.tcart.promocode.discountsum,prodamount_discountsum,remainder),lastSingleId)&&0<remainder&&(prodamount_withdiscount=+(amount-window.tcart.promocode.discountsum).toFixed(2),prodamount_discountsum=window.tcart.promocode.discountsum),prodamount_withdiscount<0&&(prodamount_withdiscount=0),window.tcart.prodamount_discountsum=prodamount_discountsum,window.tcart.prodamount_withdiscount=prodamount_withdiscount,window.tcart.promocode.prodamount_discountsum=prodamount_discountsum,(remainder=document.querySelector(".t-inputpromocode__wrapper .t706__cartwin-prodamount-price:nth-last-child(2)"))&&(remainder.innerHTML=prodamount_discountsum),prodamount_withdiscount):(console.error("Cart Some error."),amount)}function tcart_ceil(num){return num=(num*=100).toFixed(3),num=Math.ceil(num)/100}function tcart__showBubble(text){var cart,delay,id,bubble,bubble,currentBubble,text,elementBottom,elementHeight,elementBottom,elementHeight;"yes"!==document.querySelector(".t706").getAttribute("data-opencart-onorder")&&(delay=3e3,id=1,bubble=document.querySelectorAll(".t706__bubble"),bubble='<div class="t706__bubble" data-cart-bubble="'+(id=0<bubble.length?bubble.length+1:id)+'"><div class="t706__bubble-close">&times;</div><div class="t706__bubble-text">'+text+"</div></div>",document.querySelector("body").insertAdjacentHTML("beforeend",bubble),currentBubble=document.querySelector('.t706__bubble[data-cart-bubble="'+id+'"]'),1<id&&((text=document.querySelector('.t706__bubble[data-cart-bubble="'+(id-1)+'"]'))&&(elementBottom=getComputedStyle(text).bottom,elementHeight=getComputedStyle(text).height,elementBottom=parseInt(elementBottom),elementHeight=parseInt(elementHeight)),currentBubble.style.bottom=id<5?elementBottom+elementHeight+5+"px":elementBottom+25+"px"),setTimeout(function(){currentBubble.style.transition="opacity .4s, right .4s",currentBubble.style.opacity=1,currentBubble.style.right="20px"},0),setTimeout(function(){tcart__closeBubble(id)},3400),currentBubble.querySelector(".t706__bubble-close").addEventListener("click",function(){var id;tcart__closeBubble(this.closest(".t706__bubble").getAttribute("data-cart-bubble"))}))}function tcart__closeBubble(id){var bubble;(bubble=id?document.querySelector('.t706__bubble[data-cart-bubble="'+id+'"]'):bubble)&&(bubble.style.opacity=0,bubble.style.right=0,setTimeout(function(){null!==bubble.parentNode&&bubble.parentNode.removeChild(bubble)},300))}function t_triggerEvent(el,eventName){var event;document.createEvent?(event=document.createEvent("HTMLEvents")).initEvent(eventName,!0,!1):document.createEventObject&&((event=document.createEventObject()).eventType=eventName),event.eventName=eventName,el.dispatchEvent?el.dispatchEvent(event):el.fireEvent?el.fireEvent("on"+event.eventType,event):el[eventName]?el[eventName]():el["on"+eventName]&&el["on"+eventName]()}window.t_cart__isiOS=!1,/iPhone|iPad|iPod/i.test(navigator.userAgent)&&(window.t_cart__isiOS=!0),window.t_cart__iOSMajorVersion="",window.t_cart__isiOS&&null!==(version=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&(window.t_cart__iOSMajorVersion=parseInt(version[1],10)),window.t_cart__browserLang=(window.navigator.userLanguage||window.navigator.language).toUpperCase().slice(0,2),window.tcart_endpoint="store.tildacdn.com",t_onReady(function(){var allrecords=document.getElementById("allrecords"),projectLang,projectLang;allrecords&&((projectLang=allrecords.getAttribute("data-tilda-project-lang"))&&(window.t_cart__browserLang=projectLang),projectLang=allrecords.getAttribute("data-tilda-root-zone"))&&(window.tcart_endpoint="store.tildaapi."+projectLang)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(s){for(var el=this;el&&1===el.nodeType;){if(Element.prototype.matches.call(el,s))return el;el=el.parentElement||el.parentNode}return null});