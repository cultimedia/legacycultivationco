function t_throttle(fn,threshhold,scope){var last;var deferTimer;threshhold||(threshhold=250);return function(){var context=scope||this;var now=+new Date();var args=arguments;if(last&&now<last+threshhold){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args)},threshhold)}else{last=now;fn.apply(context,args)}}}
function t989_init(recid){var allRec=document.getElementById('allrecords');var lazyMode=allRec?allRec.getAttribute('data-tilda-lazy'):'';var rec=document.getElementById('rec'+recid);var bulletsWrapper=rec.querySelector('.t-slds__thumbsbullet-wrapper');var slides=rec.querySelectorAll('.t-slds__item');var bullets=rec.querySelectorAll('.t-slds__thumbsbullet');var currentBlock=rec.querySelector('.t989');var activePos=bulletsWrapper?bulletsWrapper.getAttribute('data-thumbs-active'):'0';Array.prototype.forEach.call(slides,function(slide,i){if(i===parseInt(activePos,10))slide.classList.add('t-slds__item_active')});Array.prototype.forEach.call(bullets,function(bullet,i){if(i===parseInt(activePos,10))bullet.classList.add('t-slds__item_active')});t_onFuncLoad('t_sldsInit',function(){t_sldsInit(recid);t989_checkArrowsDisplay(rec)});var thumbsTimeout=bulletsWrapper?bulletsWrapper.getAttribute('data-thumbs-timeout'):'';if(thumbsTimeout>0){t989_thumbs_initAutoPlay(rec)}
window.addEventListener('resize',t_throttle(function(){t989_checkArrowsDisplay(rec);t_slds_updateSlider(recid);if(window.lazy==='y'||lazyMode==='yes'){t_onFuncLoad('t_lazyload_update',function(){t_lazyload_update()})}},300));if(currentBlock){currentBlock.addEventListener('displayChanged',function(){t_onFuncLoad('t_slds_updateSlider',function(){t_slds_updateSlider(recid)});if(window.lazy==='y'||lazyMode==='yes'){t_onFuncLoad('t_lazyload_update',function(){t_lazyload_update()})}})}
t989_addEvents(rec)}
function t989_addEvents(rec){var bulletsWrapper=rec.querySelector('.t-slds__thumbsbullet-wrapper');var bullets=rec.querySelectorAll('.t-slds__thumbsbullet');var arrowRight=rec.querySelector('.t989__arrow-right');var arrowLeft=rec.querySelector('.t989__arrow-left');var mobileWrapperRight=rec.querySelector('.t989__mobile-arrows .t-slds__arrow_wrapper-right');var mobileWrapperLeft=rec.querySelector('.t989__mobile-arrows .t-slds__arrow_wrapper-left');var thumbsTimeout=bulletsWrapper?bulletsWrapper.getAttribute('data-thumbs-timeout'):'';if(arrowRight){arrowRight.addEventListener('click',function(){t989_next(rec);if(thumbsTimeout>0)t989_thumbs_initAutoPlay(rec)})}
if(arrowLeft){arrowLeft.addEventListener('click',function(){t989_prev(rec);if(thumbsTimeout>0)t989_thumbs_initAutoPlay(rec)})}
if(mobileWrapperRight){mobileWrapperRight.addEventListener('click',function(){t989_next(rec);if(thumbsTimeout>0)t989_thumbs_initAutoPlay(rec)})}
if(mobileWrapperLeft){mobileWrapperLeft.addEventListener('click',function(){t989_prev(rec);if(thumbsTimeout>0)t989_thumbs_initAutoPlay(rec)})}
Array.prototype.forEach.call(bullets,function(bullet){bullet.addEventListener('click',function(){t989_slideIntoView(rec,bullet);if(thumbsTimeout>0)t989_thumbs_initAutoPlay(rec)})})}
function t989_checkArrowsDisplay(rec){var bullets=rec.querySelectorAll('.t-slds__thumbsbullet');var arrowRight=rec.querySelector('.t989__arrow-right');var arrowLeft=rec.querySelector('.t989__arrow-left');var thumbsWrapper=rec.querySelector('.t-slds__thumbsbullet-wrapper');var thumbsCycle=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-cycle'):null;var activeThumb=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-active'):'0';if(thumbsCycle==='yes'){if(arrowLeft)arrowLeft.style.display='block';if(arrowLeft)arrowRight.style.display='block'}else{if(arrowLeft)arrowLeft.style.display=parseInt(activeThumb,10)>0?'block':'none';if(arrowLeft)arrowRight.style.display=parseInt(activeThumb,10)<bullets.length-1?'block':'none'}}
function t989_slideIntoView(rec,bullet){var container=rec.querySelector('.t989__thumbsbullets-container');var thumbsWrapper=rec.querySelector('.t-slds__thumbsbullet-wrapper');var containerWidth=container?container.offsetWidth:0;var containerLeftPos=container?container.getBoundingClientRect().left+window.pageXOffset:0;var containerRightPos=containerLeftPos+containerWidth;var thumbsCycle=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-cycle'):null;var bulletFor=bullet.getAttribute('data-slide-bullet-for');var bulletRightPos=bullet.offsetWidth+bullet.getBoundingClientRect().left+window.pageXOffset;var hiddenPart;var direction;if(bulletRightPos>containerRightPos){hiddenPart=bulletRightPos-containerRightPos;direction='right'}
if(container&&container.getBoundingClientRect().left>bullet.getBoundingClientRect().left){hiddenPart=(container.getBoundingClientRect().left-bullet.getBoundingClientRect().left)+12;direction='left'}
if(parseInt(bulletFor,10)){var slideID=(parseInt(bulletFor,10)-1).toString();if(thumbsWrapper)thumbsWrapper.setAttribute('data-thumbs-active',slideID)}
if(hiddenPart){t989_slide(rec,direction,hiddenPart)}
if(thumbsCycle!=='yes'){setTimeout(function(){t989_checkArrowsDisplay(rec)},300)}}
function t989_next(rec){var bullets=rec.querySelectorAll('.t-slds__thumbsbullet');var thumbsWrapper=rec.querySelector('.t-slds__thumbsbullet-wrapper');var thumbsCycle=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-cycle'):null;var activeThumb=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-active'):'0';var activeThumbValue=parseInt(activeThumb,10);if(activeThumbValue<bullets.length){activeThumbValue++}
if(activeThumbValue===bullets.length&&thumbsCycle==='yes'){activeThumbValue=0}
var activeBullet=bullets[activeThumbValue];if(activeBullet)activeBullet.click()}
function t989_prev(rec){var bullets=rec.querySelectorAll('.t-slds__thumbsbullet');var thumbsWrapper=rec.querySelector('.t-slds__thumbsbullet-wrapper');var activeThumb=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-active'):'0';var activeThumbValue=parseInt(activeThumb,10);var thumbsCycle=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-cycle'):null;if(activeThumbValue>0){activeThumbValue--}else if(thumbsCycle==='yes'){activeThumbValue=bullets.length-1}
var slide=bullets.length?bullets[activeThumbValue]:null;if(slide)slide.click();if(thumbsWrapper)thumbsWrapper.setAttribute('data-thumbs-active',activeThumbValue)}
function t989_slide(rec,direction,offset){var allRec=document.getElementById('allrecords');var lazyMode=allRec?allRec.getAttribute('data-tilda-lazy'):'';var thumbsWrapper=rec.querySelector('.t-slds__thumbsbullet-wrapper');var dataSlideOffset=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-offset'):'0';var slideOffsetValue=parseInt(dataSlideOffset,10);var slideOffset;if(direction==='right'){slideOffset=slideOffsetValue+Math.abs(offset)+12}else{slideOffset=slideOffsetValue>Math.abs(offset)?slideOffsetValue-Math.abs(offset):0}
if(thumbsWrapper){thumbsWrapper.style.transform='translate(-'+slideOffset+'px, 0)';thumbsWrapper.style.transitionDuration='.3s';thumbsWrapper.setAttribute('data-thumbs-offset',slideOffset)}
if(window.lazy==='y'||lazyMode==='yes'){t_onFuncLoad('t_lazyload_update',function(){t_lazyload_update()})}}
function t989_thumbs_initAutoPlay(rec){var thumbsWrapper=rec.querySelector('.t-slds__thumbsbullet-wrapper');var bullets=rec.querySelectorAll('.t-slds__thumbsbullet');var timeOut=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-timeout'):'0';var intervalID=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-interval-id'):null;var activeThumb=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-active'):'0';var thumbsCycle=thumbsWrapper?thumbsWrapper.getAttribute('data-thumbs-cycle'):null;timeOut=parseInt(timeOut,10);activeThumb=parseInt(activeThumb,10);if(parseInt(intervalID,10)){clearInterval(parseInt(intervalID,10))}
var thumbsIntervalId=setInterval(function(){t989_next(rec)},timeOut);if(thumbsWrapper)thumbsWrapper.setAttribute('data-thumbs-interval-id',thumbsIntervalId.toString());if(bullets.length-1===activeThumb&&thumbsCycle!=='yes'){if(intervalID){clearInterval(thumbsIntervalId)}}}
function t481_setWidth(recid){if(window.innerWidth<=980)return;var menuBlocks=document.querySelectorAll('.t481');Array.prototype.forEach.call(menuBlocks,function(menu){var alignment=menu.getAttribute('data-menu-items-align');var leftContainer=menu.querySelector('.t481__leftcontainer');var rightContainer=menu.querySelector('.t481__rightcontainer');var centerContainer=menu.querySelector('.t481__centercontainer');var mainContainer=menu.querySelector('.t481__maincontainer');var centerContainerList=centerContainer?centerContainer.querySelectorAll('li'):[];var maxWidth=Math.max(t481_getFullWidth(leftContainer),t481_getFullWidth(rightContainer));maxWidth=Math.ceil(maxWidth);var paddingWidth=40;var centerWidth=0;Array.prototype.forEach.call(centerContainerList,function(list){centerWidth+=t481_getFullWidth(list)});var leftSide=menu.querySelector('.t481__leftside');var rightSide=menu.querySelector('.t481__rightside');var mainContainerWidth=t481_getFullWidth(mainContainer);if(mainContainerWidth-(maxWidth*2+paddingWidth*2)>centerWidth+20){if(alignment==='center'||!alignment){if(leftSide)leftSide.style.minWidth=maxWidth+'px';if(rightSide)rightSide.style.minWidth=maxWidth+'px'}}else{if(leftSide)leftSide.style.minWidth='';if(rightSide)rightSide.style.minWidth=''}})}
function t481_getFullWidth(element){if(!element)return 0;var marginLeft=element.style.marginLeft||window.getComputedStyle(element).marginLeft;var marginRight=element.style.marginRight||window.getComputedStyle(element).marginRight;marginLeft=parseInt(marginLeft,10)||0;marginRight=parseInt(marginRight,10)||0;return element.offsetWidth+marginLeft+marginRight}